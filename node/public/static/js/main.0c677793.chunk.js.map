{"version":3,"sources":["callers/caller.ts","urlManager.ts","components/Messenger.tsx","callers/authUserCaller.ts","components/Modal.tsx","components/header/HeaderItem.tsx","components/header/Header.tsx","components/Loading.tsx","pages/Create.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ECallType","def","GETAsynch","url","a","fetch","method","cache","credentials","response","POSTAsynch","data","mode","headers","redirect","referrerPolicy","body","JSON","stringify","ok","console","log","GETFromJsonDB","json","UploadFile","postCaller","dataToSend","path","callType","abortController","AbortController","type","SELECT","newData","newUrl","newType","postCall","signal","INSERT","handleInsert","handleSelect","ISOK","handleIsOk","getCaller","getCall","uploadCaller","uploadCall","newId","IsSuccessful","parse","msg","isResponse200","err","tryParse","object","getNewId","id","parseId","getParameter","queryString","window","location","search","urlParams","URLSearchParams","decodeURIComponent","get","changeParam","newParam","parameter","document","href","urlparts","split","length","urlBase","shift","join","prefix","encodeURIComponent","pars","i","lastIndexOf","splice","history","pushState","title","removeParam","name","value","addParam","EMessageType","MessageContext","createContext","MessageProvider","children","React","useState","messages","setMessages","showMessage","newMessage","time","setTimeout","oldMsgs","filter","o","content","state","messenger","addSuccess","Success","addWarning","Warning","addFail","Fail","clear","Provider","className","map","m","message","icon","faCheckSquare","faExclamationTriangle","faTimesCircle","onClick","me","faTimes","authUserPath","updatePermission","login","authUser","autoLogin","caller","status","localStorage","loggedInUser","saveUserToStorage","setItem","userName","nickName","permission","toString","session","isLoggedIn","defaultResponse","isLoggedin","setNewSession","hasOwnProperty","getItem","text","logOut","updatePassword","user","newPassword","handleLogin","newSession","insertAuthUser","ModalContext","ModalProvider","modalRef","useRef","setTitle","modalVisibility","setModalVisibility","setContent","acceptBtn","setAcceptBtn","refuseBtn","setRefuseBtn","callback","clickListener","event","target","current","removeEventListener","refuseCommand","useEffect","style","display","showModal","newCallback","customModal","acceptButton","refuseButton","addEventListener","ref","HeaderItem","to","Header","sticky","permissionLevel","headerRef","onscroll","offsetTop","pageYOffset","classList","add","remove","faUser","faSignInAlt","faHotjar","faUserFriends","faNewspaper","faPenFancy","faPlusSquare","contains","scrollTop","documentElement","faBars","Loading","faSpinner","Create","faFilm","faTv","Home","lazy","EditMovie","Profile","EditArtist","Movie","Star","User","FollowsPage","EditSeries","Series","SearchPage","News","MyArticles","App","setPermissionLevel","loginRequest","getPermissionLvl","permlvl","parseInt","Helmet","rel","Modal","fallback","exact","component","render","key","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.0c677793.chunk.js","sourcesContent":["const def: string = \"/rewer/node\";\r\nexport async function GETAsynch(url: string): Promise<Response>{\r\n    const response = await fetch(def + url, {\r\n        method: \"GET\",\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n    });\r\n    return response;\r\n}\r\n\r\nexport async function POSTAsynch(url: string, data: any){\r\n    const response = await fetch(def + url, {\r\n    method: 'POST',\r\n    mode: 'cors',\r\n    cache: 'no-cache',\r\n    credentials: 'same-origin', \r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    },\r\n    redirect: 'follow', \r\n    referrerPolicy: 'no-referrer', \r\n    body: JSON.stringify(data) \r\n    });\r\n    if(response.ok){\r\n        return response;\r\n    } else {\r\n        console.log(response);\r\n        return response;\r\n    }\r\n} \r\n\r\nexport async function GETFromJsonDB(url: string): Promise<any>{\r\n    const response = await fetch(\"/rewer/jsondb\" + url, {\r\n        method: \"GET\",\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n    });\r\n    if(response.ok){\r\n        return await response.json();\r\n    }\r\n    return null;\r\n}\r\n\r\nexport async function UploadFile(url?: string, data?: FormData): Promise<Response>{\r\n    const response = await fetch(def +url, {\r\n        method: \"POST\",\r\n        cache: 'no-cache',\r\n        body: data\r\n    });\r\n    if(response.ok){\r\n        return response;\r\n    } else {\r\n        console.log(response);\r\n        return response;\r\n    }\r\n}\r\n\r\nexport enum ECallType{\r\n    INSERT,\r\n    ISOK,\r\n    SELECT\r\n}\r\n\r\nexport function postCaller(dataToSend?: any, path?: string, callType?: ECallType): [(newData?: any, newUrl?: any, newType?: ECallType)=> Promise<any>, AbortController]{\r\n    const abortController = new AbortController();\r\n    let data = dataToSend;\r\n    let url = path;\r\n    let type = ECallType.SELECT;\r\n    if(callType) type = callType;\r\n\r\n    const fetchData = async (newData?: any,  newUrl?: string, newType?: ECallType)=>{\r\n        if(newUrl) url = newUrl;\r\n        if(newData) data = newData;\r\n        if(newType != null) type = newType; \r\n        try{\r\n            return await postCall(data, url, type, abortController);\r\n        } catch(err){\r\n            console.log(err);\r\n            return null;\r\n        }\r\n    }\r\n    return [fetchData, abortController];\r\n}\r\n\r\nasync function postCall(data: any, url: string, type: ECallType, abortController: AbortController){\r\n        const response = await fetch(def + url, {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            cache: 'no-cache',\r\n            credentials: 'same-origin', \r\n            signal: abortController.signal,\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            redirect: 'follow', \r\n            referrerPolicy: 'no-referrer', \r\n            body: JSON.stringify(data) \r\n        });\r\n        if(type === ECallType.INSERT) return await handleInsert(response);\r\n        if(type === ECallType.SELECT) return await handleSelect(response);\r\n        if(type === ECallType.ISOK) return handleIsOk(response);\r\n        return null;\r\n}\r\n\r\nexport function getCaller(url?: string): [(newUrl?: string)=> Promise<any>, AbortController]{\r\n    const abortController = new AbortController();\r\n    const fetchData = async (newUrl = url)=>{\r\n        if(newUrl) url = newUrl;\r\n        try{\r\n            return await getCall(url);\r\n        } catch(err){\r\n            console.log(err);\r\n            return null;\r\n        }\r\n    }\r\n    return [fetchData, abortController];\r\n}\r\n\r\nasync function getCall(url: string): Promise<any>{\r\n    const response = await fetch(def + url, {\r\n        method: \"GET\",\r\n        cache: \"no-cache\",\r\n        credentials: \"include\"\r\n    });\r\n    if(response.ok){\r\n        return await response.json();\r\n    } \r\n    return null; \r\n}\r\n\r\nexport function uploadCaller(url: string, data: FormData): [(newUrl: string, newData: FormData)=> Promise<boolean>, AbortController]{\r\n    const abortController = new AbortController();\r\n    const fetchData = async (newUrl = url, newData = data)=>{\r\n        if(newUrl) url = newUrl;\r\n        if(newData) data = newData;\r\n        try{\r\n            return await uploadCall(url, data);\r\n        } catch(err){\r\n            console.log(err);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    return [fetchData, abortController];\r\n}\r\n\r\nasync function uploadCall(url: string, data: FormData): Promise<boolean>{\r\n    const response = await fetch(def +url, {\r\n        method: \"POST\",\r\n        cache: 'no-cache',\r\n        body: data\r\n    });\r\n    if(response.ok){\r\n        return true;\r\n    }\r\n}\r\n\r\nasync function handleSelect(response: Response): Promise<any>{\r\n    if(response.ok){\r\n        return await response.json();\r\n    }\r\n    return null;\r\n}\r\n\r\nasync function handleInsert(response: Response): Promise<number | null>{\r\n    if(response.ok){\r\n        return (await response.json()).newId;\r\n    }\r\n    return null;\r\n}\r\n\r\nfunction handleIsOk(response: Response): boolean{\r\n    if(response.ok){\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nexport interface IRequestInfo{\r\n    url: string;\r\n    data: any;\r\n}\r\n\r\nexport function IsSuccessful(json: string){\r\n    if(JSON.parse(json).msg === \"success\"){\r\n        return true;\r\n    }\r\n    console.log(json);\r\n    return false;\r\n}\r\n\r\nexport function isResponse200(response: string){\r\n    try{\r\n        if(JSON.parse(response).response === 200) return true;\r\n    } catch(err){\r\n        console.log(err);\r\n        console.log(response);\r\n    }\r\n}\r\n\r\nexport function tryParse(response: string){\r\n    try{\r\n        return JSON.parse(response).object;\r\n    }catch(err) {\r\n        console.log(err);\r\n        console.log(response);\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function getNewId(object: any, response: string){\r\n    try{\r\n        object.id = JSON.parse(response).newId;\r\n        if(object.id != null) return true;\r\n        console.log(response);\r\n    } catch(err){\r\n        console.log(err);\r\n        console.log(response);\r\n    }\r\n    return false;\r\n}\r\n\r\nexport function parseId(response: string): number{\r\n    try{\r\n        return JSON.parse(response).newId;\r\n    } catch(err){\r\n        console.log(err);\r\n        console.log(response);\r\n    }\r\n    return null;\r\n}\r\n","\r\nexport interface UrlParam{\r\n    name: string;\r\n    value : string;\r\n}\r\nexport function getParameter(url: string): string{\r\n    const queryString = window.location.search;\r\n    const urlParams = new URLSearchParams(queryString);\r\n    return decodeURIComponent(urlParams.get(url));    \r\n}\r\n\r\nexport function createUrl(url: string, params: UrlParam[]){\r\n    let preparedUrl = url;\r\n    if(params.length > 0){\r\n        preparedUrl = setParams(preparedUrl, params);\r\n    }\r\n    return encodeURI(preparedUrl);\r\n}\r\n\r\nexport function setParams(url: string, params: UrlParam[]){\r\n    url += \"?\";\r\n    for(let param of params) {\r\n        url += `${param.name}=${encodeURIComponent(param.value)}`;\r\n        if(param.name !== params[params.length - 1].name){\r\n            url += \"&\";\r\n        }\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function addParam(newParam: UrlParam){\r\n    const splitUrl = window.location.href.split('?');\r\n    if(splitUrl.length > 1){\r\n        window.history.pushState(\"\", \"\",  `${window.location.href}&${newParam.name}=${newParam.value}`);\r\n    } else {\r\n        window.history.pushState(\"\", \"\",  `${window.location.href}?${newParam.name}=${newParam.value}`);\r\n    }\r\n}\r\n\r\nexport function changeParam(newParam: UrlParam){\r\n    removeParam(newParam.name);\r\n    addParam(newParam);\r\n}\r\n\r\nexport function removeParam(parameter)\r\n{\r\n  var url=document.location.href;\r\n  var urlparts= url.split('?');\r\n\r\n if (urlparts.length>=2)\r\n {\r\n  var urlBase=urlparts.shift(); \r\n  var queryString=urlparts.join(\"?\"); \r\n\r\n  var prefix = encodeURIComponent(parameter)+'=';\r\n  var pars = queryString.split(/[&;]/g);\r\n  for (var i= pars.length; i-->0;)               \r\n      if (pars[i].lastIndexOf(prefix, 0)!==-1)   \r\n          pars.splice(i, 1);\r\n  url = urlBase+'?'+pars.join('&');\r\n  window.history.pushState('',document.title,url); // added this line to push the new url directly to url bar .\r\n}\r\n}","import { faCheckSquare, faExclamationTriangle, faTimes, faTimesCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { createContext } from 'react'\r\nimport \"../App.css\";\r\n\r\nexport enum EMessageType{\r\n    Success = \"success\",\r\n    Fail = \"fail\",\r\n    Warning = \"warning\"\r\n}\r\n\r\nexport interface IMessage{\r\n    content: string;\r\n    type?: EMessageType; //megjelenő ikon típusa\r\n    time?: number; //milisec\r\n}\r\n\r\nexport interface IMessageContext {\r\n    messenger: IMessenger;\r\n}\r\n\r\nexport interface IMessenger {\r\n    addSuccess: (text: string, time?: number | null)=>void;\r\n    addWarning: (text: string, time?: number | null)=>void;\r\n    addFail: (text: string, time?: number | null)=>void;\r\n    clear: ()=>void;\r\n}\r\n\r\nexport const MessageContext = createContext<IMessageContext>(null);\r\n\r\nexport const MessageProvider: React.FC<React.ReactNode> = ({children})=>{\r\n    const [messages, setMessages] = React.useState<IMessage[]>([]);\r\n\r\n    const showMessage = (newMessage: IMessage)=>{\r\n        const msg = { \r\n            ...newMessage, \r\n            type: newMessage.type\r\n        };\r\n        setMessages([ ...messages, msg ]);\r\n        if(newMessage.time != null){\r\n            setTimeout(()=>{\r\n                setMessages(oldMsgs => [...oldMsgs.filter(o=> o.content !== newMessage.content)]);\r\n            }, newMessage.time);\r\n        }\r\n    }\r\n\r\n    const getIcon = (message: IMessage)=>{\r\n        if(message.type === EMessageType.Success){\r\n            return <FontAwesomeIcon className=\"msg-icon msg-success\" icon={faCheckSquare} />\r\n        } else if(message.type === EMessageType.Warning){\r\n            return <FontAwesomeIcon className=\"msg-icon msg-warning\" icon={faExclamationTriangle} />\r\n        } else {\r\n            return <FontAwesomeIcon className=\"msg-icon msg-fail\" icon={faTimesCircle} />\r\n        }\r\n    }\r\n\r\n    const messenger: IMessenger = {\r\n        addSuccess: (content: string, time: number = null)=>{\r\n            showMessage({ content: content, time: time, type: EMessageType.Success });\r\n        },\r\n        addWarning: (content: string, time: number = null)=>{\r\n            showMessage({ content: content, time: time, type: EMessageType.Warning });\r\n        },\r\n        addFail: (content: string, time: number = null)=>{\r\n            showMessage({ content: content, time: time, type: EMessageType.Fail });\r\n        },\r\n        clear: ()=> { setMessages([]); }\r\n    }\r\n\r\n    const state = {\r\n        messenger: messenger\r\n    }\r\n\r\n    return (\r\n        <MessageContext.Provider value={state} >\r\n            <div className=\"message-box\">\r\n                {messages.map(m=>{\r\n                    return (<div className=\"message-row\">\r\n                        {getIcon(m)}\r\n                        <span className=\"msg-content\">{m.content}</span>\r\n                        <span onClick={()=>{ setMessages(messages.filter(me=> me !== m)) }}><FontAwesomeIcon className=\"msg-close\" icon={faTimes} /></span>\r\n                    </div>)\r\n                })}\r\n            </div>\r\n            {children}\r\n        </MessageContext.Provider>\r\n    )\r\n}\r\n","import * as caller from \"./caller\";\r\nimport { IAuthUser, WIsLoggedinResponse, WLoginRequest, WUpdatePasswordRequest } from \"../../common/user\";\r\n\r\nexport const authUserPath = {\r\n    updatePermission: \"/user/update_permission\"\r\n}\r\n\r\nexport async function login(authUser: IAuthUser, autoLogin: boolean): Promise<IAuthUser>{\r\n    const data: WLoginRequest = {\r\n        authUser: authUser,\r\n        autoLogin: autoLogin\r\n    }\r\n    const response = await caller.POSTAsynch(\"/user/login\", data);\r\n    if(response.status !== 200){\r\n        localStorage.clear();\r\n        return null;\r\n    }\r\n    const loggedInUser: IAuthUser = await response.json();\r\n    if(loggedInUser){\r\n        saveUserToStorage(loggedInUser);\r\n    }\r\n    return loggedInUser;\r\n}\r\n\r\nfunction saveUserToStorage(authUser: IAuthUser){\r\n    localStorage.clear();\r\n    localStorage.setItem(\"userName\", authUser.userName);\r\n    localStorage.setItem(\"nickName\", authUser.nickName);\r\n    localStorage.setItem(\"permission\", authUser.permission.toString());\r\n    if(authUser){\r\n        localStorage.setItem(\"session\", authUser.session);\r\n    } \r\n}\r\n\r\nexport async function isLoggedIn(): Promise<WIsLoggedinResponse>{\r\n    const defaultResponse = { isLoggedin: false, setNewSession: false }\r\n    if(!localStorage.hasOwnProperty(\"userName\")){\r\n        console.log(\"no username\")\r\n        return defaultResponse;\r\n    }\r\n    const response = await caller.POSTAsynch(\"/user/is_logged_in\", { userName: localStorage.getItem(\"userName\"), session: localStorage.getItem(\"session\") });\r\n    try{\r\n        return JSON.parse(await response.text());\r\n    } catch(err){\r\n        console.log(err);\r\n        console.log(response);\r\n        logOut();\r\n    }\r\n    return defaultResponse; \r\n}\r\n\r\nexport async function updatePassword(user: IAuthUser, newPassword: string): Promise<boolean>{\r\n    let data: WUpdatePasswordRequest = {\r\n        authUser: user,\r\n        newPassword: newPassword\r\n    }\r\n    const response = await caller.POSTAsynch(\"/user/update_password\", data);\r\n    return caller.isResponse200(await response.text());\r\n}\r\n\r\nexport async function handleLogin(): Promise<Boolean>{\r\n    const response: WIsLoggedinResponse = await isLoggedIn();\r\n    if(response.isLoggedin === false){\r\n        localStorage.clear();\r\n        return false;\r\n    }\r\n    if(response.setNewSession){\r\n        localStorage.setItem(\"session\", response.newSession);\r\n    }\r\n    return true; \r\n}\r\n\r\nexport async function logOut(){\r\n    await caller.GETAsynch(\"/user/log_out\");\r\n    localStorage.clear();\r\n}\r\n\r\nexport async function insertAuthUser(authUser: IAuthUser): Promise<Response>{\r\n    const response = await caller.POSTAsynch(\"/user/insert_user\", authUser);\r\n    return response;\r\n}","import React, { createContext, useEffect, useState, useRef, Fragment } from 'react'\r\nimport \"../main.css\";\r\n\r\nexport interface IModalContext {\r\n    showModal:  (newCallback: ()=>void, customModal?: IModal)=>void;\r\n    setModalVisibility?: (isVisible: boolean)=>void;\r\n}\r\n\r\nexport interface IModal{\r\n    title: string;\r\n    content?: JSX.Element;\r\n    acceptButton?: JSX.Element;\r\n    refuseButton?: JSX.Element;\r\n}\r\n\r\nexport const ModalContext = createContext<IModalContext>(null);\r\n\r\nexport const ModalProvider: React.FC<React.ReactNode> = ({children}) => {\r\n    const modalRef = useRef<HTMLDivElement>();\r\n    const [title, setTitle] = useState<string>(\"Are you sure?\");\r\n    const [modalVisibility, setModalVisibility] = useState<boolean>(false);\r\n    const [content, setContent] = useState(<Fragment></Fragment>);\r\n    const [acceptBtn, setAcceptBtn] = useState<any>();\r\n    const [refuseBtn, setRefuseBtn] = useState<any>();\r\n    const callback = useRef<()=>void>();\r\n\r\n    const showModal = (newCallback: ()=>void, customModal?: IModal)=>{\r\n        if(customModal){\r\n            setTitle(customModal.title);\r\n            setContent(customModal.content);\r\n            setAcceptBtn(customModal.acceptButton);\r\n            setRefuseBtn(customModal.refuseButton);\r\n        } else {\r\n            setTitle(\"Are you sure?\");\r\n            setContent(<Fragment></Fragment>);\r\n            setAcceptBtn(<Fragment>Accept</Fragment>);\r\n            setRefuseBtn(<Fragment>Cancel</Fragment>);\r\n        }\r\n        callback.current = ()=>{ newCallback(); }\r\n        setModalVisibility(true);\r\n        window.addEventListener(\"mousedown\", clickListener);\r\n    }\r\n\r\n    const clickListener = (event) =>{\r\n        if(event.target === modalRef.current){\r\n            setModalVisibility(false);\r\n            window.removeEventListener(\"mousedown\", clickListener);\r\n        }\r\n    }\r\n\r\n    const acceptCommand = ()=>{\r\n        callback.current();\r\n        setModalVisibility(false);\r\n    }\r\n\r\n    const refuseCommand = () => {\r\n        setModalVisibility(false);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(modalVisibility){\r\n            modalRef.current.style.display = \"block\";\r\n        } else {\r\n            modalRef.current.style.display = \"none\";\r\n        }\r\n    }, [modalVisibility]);\r\n\r\n    const state = {\r\n        showModal: showModal,\r\n        setModalVisibility: setModalVisibility\r\n    }\r\n\r\n    return (\r\n        <ModalContext.Provider value={state}>\r\n            {children}\r\n            <div ref={modalRef} className=\"modal\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                    <span onClick={refuseCommand} className=\"close\">&times;</span>\r\n                    <h2>{title}</h2>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        {content}\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button onClick={acceptCommand}>{acceptBtn}</button>\r\n                        <button onClick={refuseCommand}>{refuseBtn}</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </ModalContext.Provider>   \r\n    )\r\n}\r\n\r\nexport default ModalProvider;","import React from 'react'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport interface IHeaderItem{\r\n    to: string;\r\n    content: any;\r\n}\r\n\r\nexport const HeaderItem: React.FC<IHeaderItem> = ({to, content})=> { //this component is utterly fucking useless btw\r\n    return (\r\n            <Link to={to}>{content}</Link>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useRef, useEffect, Fragment } from 'react'\r\nimport \"./headerStyle.css\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars, faUser, faSignInAlt, faNewspaper, faUserFriends, faPenFancy, faPlusSquare } from '@fortawesome/free-solid-svg-icons'\r\nimport { HeaderItem } from './HeaderItem';\r\nimport { faHotjar } from '@fortawesome/free-brands-svg-icons';\r\n\r\ninterface IHeader{\r\n    permissionLevel: number;\r\n}\r\n\r\nexport const Header: React.FC<IHeader> = ({ permissionLevel }: IHeader)=> {\r\n    const headerRef = useRef<HTMLDivElement>(null);\r\n\r\n    let sticky: number;\r\n    window.onscroll = function(){\r\n        headerHandler();\r\n    }\r\n\r\n    function headerHandler(){ //legacy code from other project, could consider refactoring it to be more \"reacty\"\r\n        sticky = headerRef.current.offsetTop;\r\n        if(window.pageYOffset > sticky){\r\n            headerRef.current.classList.add(\"sticky\");\r\n        } else {\r\n            headerRef.current.classList.remove(\"sticky\");\r\n        }\r\n    } \r\n    function displayMenu(){\r\n        if(!headerRef.current.classList.contains(\"responsive\")){\r\n            headerRef.current.classList.add(\"responsive\");\r\n            document.body.scrollTop = 0; // For Safari\r\n            document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera\r\n        } else {\r\n            headerRef.current.classList.remove(\"responsive\");\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(localStorage.getItem(\"userName\"));\r\n        console.log(localStorage.getItem(\"nickName\"));\r\n        console.log(localStorage.getItem(\"session\"));\r\n        console.log(localStorage.getItem(\"permission\"));\r\n    }, []);\r\n\r\n    function closeHeader(){\r\n        setTimeout(()=>{\r\n            headerRef.current.classList.remove(\"responsive\");\r\n        }, 250); //not sure why anymore\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(permissionLevel);\r\n    }, [permissionLevel])\r\n\r\n    return ( //it has to be a link cuz yea        \r\n           <header>\r\n                <div ref={headerRef} className=\"topnav\">\r\n                    <div onClick={closeHeader}>\r\n                    {permissionLevel > 0 ?\r\n                    (<HeaderItem to=\"/rewer/profile\" content={<FontAwesomeIcon icon={faUser} />} />):\r\n                    (<HeaderItem to=\"/rewer/profile\" content={<FontAwesomeIcon icon={faSignInAlt} />} />)}                \r\n                    <HeaderItem to=\"/rewer/home\" content={<Fragment><FontAwesomeIcon icon={faHotjar} /><span>Fresh</span></Fragment>} />\r\n                    <HeaderItem to={\"/rewer/follows\"} content={<Fragment><FontAwesomeIcon icon={faUserFriends} /><span>Follows</span></Fragment>} />\r\n                    <HeaderItem to=\"/rewer/news\" content={<Fragment><FontAwesomeIcon icon={faNewspaper} /><span>News</span></Fragment>} />                              \r\n                    {(permissionLevel > 1) ?\r\n                    (<Fragment>\r\n                        <HeaderItem to=\"/rewer/myarticles\" content={<Fragment><FontAwesomeIcon icon={faPenFancy} /><span>My Articles</span></Fragment>} />\r\n                        <HeaderItem to=\"/rewer/create\" content={<Fragment><FontAwesomeIcon icon={faPlusSquare} /><span>Create</span></Fragment>} />\r\n                    </Fragment>):\r\n                    (<Fragment></Fragment>)}                   \r\n                    </div>\r\n                    <a onClick={displayMenu} className=\"icon\"><FontAwesomeIcon icon={faBars} /></a>\r\n                </div>\r\n            </header>\r\n    )\r\n}\r\nexport default Header;\r\n","import React from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function Loading() {\r\n    return (\r\n        <div className=\"loading-div\">\r\n            <FontAwesomeIcon className=\"spin\" icon={faSpinner} />\r\n        </div>\r\n    )\r\n}\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { faFilm, faTv, faUserFriends, faNewspaper } from \"@fortawesome/free-solid-svg-icons\"\r\nexport default function Create() {\r\n    useEffect(()=>{\r\n        document.title = \"New - Rewer\";\r\n    }, []);\r\n    return (\r\n        <div className=\"main-container\">            \r\n            <Link to=\"/rewer/editmovie?movieId=0\" >\r\n                <div className=\"new-link\">\r\n                    <p><FontAwesomeIcon icon={faFilm} />Movie</p>\r\n                </div>\r\n            </Link>\r\n            \r\n            <Link to=\"/rewer/editseries?seriesId=0\" className=\"new-link\">\r\n                <div className=\"new-link\">\r\n                    <p><FontAwesomeIcon icon={faTv} />Series</p>\r\n                </div>\r\n            </Link>\r\n            <Link to=\"/rewer/editartist?artistId=0\" className=\"new-link\">\r\n                <div className=\"new-link\">\r\n                    <p><FontAwesomeIcon icon={faUserFriends} />Person</p>\r\n                </div>\r\n            </Link>     \r\n            <Link to=\"/rewer/myarticles\" className=\"new-link\">\r\n                <div className=\"new-link\">\r\n                    <p><FontAwesomeIcon icon={faNewspaper} />Article</p>\r\n                </div>\r\n            </Link>                      \r\n        </div>\r\n    )\r\n}\r\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, lazy, Suspense, useState } from 'react';\nimport './App.css';\nimport \"./main.css\";\n// @ts-ignore\nimport { Route, BrowserRouter as Router, Switch} from \"react-router-dom\";\n\nimport Helmet from \"react-helmet\";\nimport { Header } from './components/header/Header';\nimport { handleLogin } from './callers/authUserCaller';\nimport ModalProvider from './components/Modal';\nimport { getParameter } from './urlManager';\nimport Loading from './components/Loading';\nimport Create from './pages/Create';\nimport { MessageProvider } from './components/Messenger';\n\nconst Home = lazy(()=> { return import(\"./pages/Home\") } );\nconst EditMovie = lazy(()=> {return import(\"./pages/EditMovie\")});\nconst Profile = lazy(()=> {return import(\"./pages/Profile\")});\nconst EditArtist = lazy(()=> { return import(\"./pages/EditArtist\")});\nconst Movie = lazy(()=> {return import(\"./pages/Movie\")});\nconst Star = lazy(()=> {return import(\"./pages/Star\")});\nconst User = lazy(()=> {return import(\"./pages/User\")});\nconst FollowsPage = lazy(()=> {return import(\"./pages/FollowsPage\")});\nconst EditSeries = lazy(()=> {return import(\"./pages/EditSeries\")});\nconst Series = lazy(()=> {return import(\"./pages/Series\")});\nconst SearchPage = lazy(()=> {return import(\"./pages/SearchPage\")});\nconst News = lazy(()=> {return import(\"./pages/News\")});\nconst MyArticles = lazy(()=> {return import(\"./pages/MyArticles\")});\n\nfunction App() {\n  const [permissionLevel, setPermissionLevel] = useState<number>(0);\n\n  useEffect(()=>{\n    loginRequest();\n  }, []);\n  \n  const loginRequest = async ()=>{\n    if(await handleLogin()){\n      getPermissionLvl();\n    }\n  }\n\n  const getPermissionLvl = ()=>{\n    const permlvl: string = localStorage.getItem(\"permission\");\n    if(permlvl){\n      setPermissionLevel(parseInt(permlvl));\n    } else {\n      setPermissionLevel(0);\n    }\n  }\n\n  return (\n    <Router>\n    <Helmet>\n      <title>Rewer</title>\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n      <link rel=\"canonical\" href=\"https://szben.eu/rewer/home\" />\n    </Helmet>\n    <ModalProvider>\n    <MessageProvider>\n    <Header permissionLevel={permissionLevel} />\n      <div className=\"page\">\n          <Switch>\n            <Suspense fallback={<Loading />}>\n              <Route exact path=\"/rewer\" component={Home} />\n              <Route exact path=\"/rewer/home\" component={Home} />\n              <Route exact path=\"/rewer/movie\" render={() => <Movie key={getParameter(\"movieId\")}/>} />\n              <Route exact path=\"/rewer/series\" render={() => <Series key={getParameter(\"seriesId\")}/>} />\n              <Route exact path=\"/rewer/profile\" render={()=> <Profile setPermissionLevel={setPermissionLevel} />} />\n              <Route exact path=\"/rewer/user\" component={User} />\n              <Route exact path=\"/rewer/editartist\" component={EditArtist} />\n              <Route exact path=\"/rewer/star\" component={Star} />\n              <Route exact path=\"/rewer/create\" component={Create} />\n              <Route exact path=\"/rewer/editmovie\" component={EditMovie} />\n              <Route exact path=\"/rewer/editseries\" component={EditSeries} />\n              <Route exact path=\"/rewer/follows\" component={FollowsPage} />\n              <Route exact path=\"/rewer/search\" component={SearchPage} />\n              <Route exact path=\"/rewer/news\" component={News} />\n              <Route exact path=\"/rewer/myarticles\" component={MyArticles} />\n            </Suspense>\n          </Switch>\n        </div>\n      </MessageProvider>\n      </ModalProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\nReactDOM.render(\n  <BrowserRouter>\n  <base href=\"/\" /> \n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}