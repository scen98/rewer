(this.webpackJsonprewer=this.webpackJsonprewer||[]).push([[14],{107:function(e,t,n){"use strict";var r;function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(i){var c=arguments,u=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LlopSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,a,i,f){if(1!==c.length||"string"!==d(r)||/\d/.test(r)||(a=r,r=void 0),(r=r||0===r?r:new Date)instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");var m=(a=String(u.masks[a]||a||u.masks.default)).slice(0,4);"UTC:"!==m&&"GMT:"!==m||(a=a.slice(4),i=!0,"GMT:"===m&&(f=!0));var p=function(){return i?"getUTC":"get"},h=function(){return r[p()+"Date"]()},y=function(){return r[p()+"Day"]()},b=function(){return r[p()+"Month"]()},g=function(){return r[p()+"FullYear"]()},v=function(){return r[p()+"Hours"]()},w=function(){return r[p()+"Minutes"]()},j=function(){return r[p()+"Seconds"]()},O=function(){return r[p()+"Milliseconds"]()},E=function(){return i?0:r.getTimezoneOffset()},M={d:function(){return h()},dd:function(){return o(h())},ddd:function(){return u.i18n.dayNames[y()]},dddd:function(){return u.i18n.dayNames[y()+7]},m:function(){return b()+1},mm:function(){return o(b()+1)},mmm:function(){return u.i18n.monthNames[b()]},mmmm:function(){return u.i18n.monthNames[b()+12]},yy:function(){return String(g()).slice(2)},yyyy:function(){return o(g(),4)},h:function(){return v()%12||12},hh:function(){return o(v()%12||12)},H:function(){return v()},HH:function(){return o(v())},M:function(){return w()},MM:function(){return o(w())},s:function(){return j()},ss:function(){return o(j())},l:function(){return o(O(),3)},L:function(){return o(Math.floor(O()/10))},t:function(){return v()<12?u.i18n.timeNames[0]:u.i18n.timeNames[1]},tt:function(){return v()<12?u.i18n.timeNames[2]:u.i18n.timeNames[3]},T:function(){return v()<12?u.i18n.timeNames[4]:u.i18n.timeNames[5]},TT:function(){return v()<12?u.i18n.timeNames[6]:u.i18n.timeNames[7]},Z:function(){return f?"GMT":i?"UTC":(String(r).match(t)||[""]).pop().replace(n,"").replace(/GMT\+0000/g,"UTC")},o:function(){return(E()>0?"-":"+")+o(100*Math.floor(Math.abs(E())/60)+Math.abs(E())%60,4)},p:function(){return(E()>0?"-":"+")+o(Math.floor(Math.abs(E())/60),2)+":"+o(Math.floor(Math.abs(E())%60),2)},S:function(){return["th","st","nd","rd"][h()%10>3?0:(h()%100-h()%10!=10)*h()%10]},W:function(){return l(r)},N:function(){return s(r)}};return a.replace(e,(function(e){return e in M?M[e]():e.slice(1,e.length-1)}))}}();u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]};var o=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},l=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)},s=function(e){var t=e.getDay();return 0===t&&(t=7),t},d=function(e){return null===e?"null":void 0===e?"undefined":"object"!==a(e)?a(e):Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()};void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}(void 0)},119:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n(19),a=n(20),i=n(2),c=n.n(i),u=n(3),o=n(12),l=n(0),s=n.n(l),d=n(75),f=n(13),m=n(56),p=n(31),h=(n(71),n(65)),y=n(26),b=n(107),g=function(e){var t=e.defArticle,n=e.onUpdate,a=Object(m.e)(t),i=Object(o.a)(a,3),f=i[0],p=i[1],g=i[2],v=Object(l.useState)(!1),w=Object(o.a)(v,2),j=w[0],O=w[1],E=Object(m.g)("/rewer/uploads/articles","".concat(f.id,".jpg")),M=Object(o.a)(E,3),x=M[0],S=M[1],T=M[2],D=Object(l.useRef)(),k=Object(l.useContext)(y.a).messenger;function C(){return(C=Object(u.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new FormData,!(D.current.files.length<1)){e.next=4;break}return k.addWarning("Not file was chosen."),e.abrupt("return");case 4:return e.next=6,Object(h.b)(D.current.files[0],400,600,.9);case 6:return n=e.sent,t.append("image",n,"".concat(f.id,".jpg")),e.next=10,Object(d.b)(t);case 10:if(!e.sent){e.next=14;break}T("/rewer/uploads/articles","".concat(f.id,".jpg?").concat((new Date).getTime())),e.next=15;break;case 14:k.addFail("Server error: could not upload image.");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){return null!=t.publishDate&&O(!0),function(){k.clear()}}),[]),s.a.createElement("div",null,s.a.createElement("div",{className:"edit-article-grid"},s.a.createElement("div",null,s.a.createElement("img",{src:x,onError:S,alt:"article_image"}),s.a.createElement("input",{ref:D,className:"article-img-input",type:"file",accept:".png,.jpg,.jpeg"}),s.a.createElement("button",{onClick:function(){return C.apply(this,arguments)}},"Upload")),s.a.createElement("div",null,s.a.createElement("label",null,"Title"),s.a.createElement("input",{value:f.title,name:"title",onChange:g,placeholder:"title"}),s.a.createElement("textarea",{name:"text",value:f.text,onChange:g,rows:10,placeholder:"short news"}),s.a.createElement("br",null),s.a.createElement("label",null,"Publish: "),s.a.createElement("input",{type:"checkbox",checked:j,onChange:function(){p(j?Object(r.a)(Object(r.a)({},f),{},{publishDate:null}):Object(r.a)(Object(r.a)({},f),{},{publishDate:(new Date).toISOString()})),O(!j)}}),j?s.a.createElement("input",{value:b(new Date(f.publishDate),"yyyy-mm-dd")+"T"+b(new Date(f.publishDate),"HH:MM"),onChange:function(e){p(Object(r.a)(Object(r.a)({},f),{},{publishDate:e.target.value}))},type:"datetime-local"}):s.a.createElement(l.Fragment,null)," ",s.a.createElement("br",null),s.a.createElement("label",null,"Read more link: "),s.a.createElement("input",{name:"readMore",type:"text",value:f.readMore,onChange:g,placeholder:"Leave empty if irrelevant"}),s.a.createElement("button",{onClick:function(){n(f)}},"Save"))))},v=function(e){var t=e.article,n=e.onUpdate,r=e.onDelete,a=Object(m.g)("/rewer/uploads/articles","".concat(t.id,".jpg"),m.a.Medium),i=Object(o.a)(a,3),c=i[0],u=i[1],d=i[2],f=Object(m.f)(t.text,300),h=Object(o.a)(f,3),y=h[0],b=h[1],v=h[2],w=Object(l.useState)(!1),j=Object(o.a)(w,2),O=j[0],E=j[1],M=Object(l.useContext)(p.a).showModal;return Object(l.useEffect)((function(){O||(v(t.text,300),d("/rewer/uploads/articles","".concat(t.id,".jpg")))}),[O]),s.a.createElement("div",null,O?s.a.createElement(l.Fragment,null,s.a.createElement(g,{defArticle:t,onUpdate:n}),s.a.createElement("button",{onClick:function(){E(!1)}},"End edit")):s.a.createElement("div",{className:"my-article-row"},s.a.createElement("div",null,s.a.createElement("img",{src:c,onError:u,alt:"".concat(t.title,"_image")}),s.a.createElement("button",{onClick:function(){E(!0)}},"Edit"),s.a.createElement("button",{onClick:function(){M((function(){r(t)}),{title:'Deleting article with title "'.concat(t.title,'"'),content:s.a.createElement(l.Fragment,null,s.a.createElement("p",null,"If you delete this article, you will not be able to retrieve it later."),s.a.createElement("i",null,"Note: if you want to hide this article from the public, consider setting its state to unpublished."),s.a.createElement("p",null,"Are you sure you want to permanently delete this article?")),acceptButton:s.a.createElement(l.Fragment,null,"Delete article"),refuseButton:s.a.createElement(l.Fragment,null,"Cancel")})}},"Delete")),s.a.createElement("div",null,s.a.createElement("h3",null,t.title),s.a.createElement("p",null,y),b?s.a.createElement(l.Fragment,null,s.a.createElement("p",{onClick:function(){v(t.text)},className:"show-more"},"Show more")):s.a.createElement(l.Fragment,null,t.text.length>300?s.a.createElement(l.Fragment,null,s.a.createElement("p",{className:"show-more",onClick:function(){v(t.text,300)}},"Show less")):s.a.createElement(l.Fragment,null)),t.readMore.length>0?s.a.createElement("a",{href:t.readMore},"Read more"):s.a.createElement(l.Fragment,null))))},w=function(e){var t=e.articles,n=e.onUpdate,r=e.onDelete;return s.a.createElement("div",null,t.map((function(e){return s.a.createElement(v,{article:e,onUpdate:n,onDelete:r,key:"my-article-".concat(e.id)})})))},j=n(107);function O(){var e=Object(m.e)({id:0,title:"",text:"",publishDate:null,userName:localStorage.getItem("userName"),readMore:""}),t=Object(o.a)(e,3),n=t[0],i=t[2],p=Object(f.postCaller)(),b=Object(o.a)(p,2),g=b[0],v=b[1],O=Object(m.d)([]),E=Object(o.a)(O,2),M=E[0],x=E[1],S=Object(m.h)(.9,(function(){return L.apply(this,arguments)})),T=Object(o.a)(S,2),D=T[0],k=T[1],C=Object(l.useState)("Downloading your articles..."),H=Object(o.a)(C,2),N=H[0],A=H[1],z=Object(l.useState)(""),F=Object(o.a)(z,2),U=F[0],P=F[1],_=Object(l.useContext)(y.a).messenger;function I(){return W.apply(this,arguments)}function W(){return(W=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({userName:localStorage.getItem("userName"),keyword:U,limit:10,offset:0},d.a.selectArticlesByUser);case 2:(t=e.sent)&&(x(t),10===t.length&&D(),A(""));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(),e.next=3,g({userName:localStorage.getItem("userName"),keyword:U,limit:10,offset:M.current.length},d.a.selectArticlesByUser,f.ECallType.SELECT);case 3:(t=e.sent)?(x([].concat(Object(a.a)(M.current),Object(a.a)(t))),10===t.length&&D()):_.addFail("Server error: could not retrieve article data.");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(u.a)(c.a.mark((function e(){var t,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(r.a)(Object(r.a)({},n),{},{text:"This article was created on ".concat(j(new Date,"HH:MM d.mm.yyyy"))}),e.next=3,g(t,d.a.insertArticle,f.ECallType.INSERT);case 3:(i=e.sent)?x([Object(r.a)(Object(r.a)({},t),{},{id:i})].concat(Object(a.a)(M.current))):_.addFail("Server error: could not add new article.");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,d.a.updateArticle,f.ECallType.ISOK);case 2:e.sent?x(Object(h.a)(M.current,M.current.find((function(e){return e.id===t.id})),t)):_.addFail("Server error: could not save article.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(u.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,d.a.deleteArticle,f.ECallType.ISOK);case 2:e.sent?x(M.current.filter((function(e){return e.id!==t.id}))):_.addFail("Server error: could not delete article.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){return document.title="My Articles - Rewer",I(),function(){v.abort(),k(),_.clear()}}),[]),s.a.createElement("div",{className:"main-container"},s.a.createElement("div",null,s.a.createElement("h2",null,"Create new article:"),s.a.createElement("label",null,"New article's title: "),s.a.createElement("input",{type:"text",value:n.title,onChange:i,name:"title"}),s.a.createElement("button",{onClick:function(){return B.apply(this,arguments)}},"Create"),s.a.createElement("input",{value:U,onChange:function(e){P(e.target.value)},onKeyDown:function(e){Object(m.b)(e,I)},type:"text",placeholder:"search"}),s.a.createElement("button",{onClick:I},"Search")),s.a.createElement("p",null,N),s.a.createElement(w,{articles:M.current,onUpdate:function(e){return R.apply(this,arguments)},onDelete:function(e){return J.apply(this,arguments)}}))}},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return r})),n.d(t,"g",(function(){return h}));var r,a=n(28),i=n(19),c=n(12),u=n(0);function o(e){var t=Object(u.useRef)(e),n=Object(u.useState)(!1),r=Object(c.a)(n,2)[1];return[t,function(e){Object.is(t.current,e)||(t.current=e,r((function(e){return!e})))}]}function l(e){var t=Object(u.useState)(e),n=Object(c.a)(t,2),r=n[0],o=n[1];return[r,o,function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(a.a)({},e.target.name,e.target.value)))}]}function s(e){var t=Object(u.useRef)(e),n=Object(u.useState)(!1),r=Object(c.a)(n,2)[1],o=function(e){Object.is(t.current,e)||(t.current=e,r((function(e){return!e})))};return[t,o,function(e){o(Object(i.a)(Object(i.a)({},t.current),{},Object(a.a)({},e.target.name,e.target.value)))}]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f(e,t>0,t),r=Object(c.a)(n,2),a=r[0],i=r[1],o=Object(u.useState)(i),l=Object(c.a)(o,2),s=l[0],d=l[1],m=Object(u.useState)(a),p=Object(c.a)(m,2),h=p[0],y=p[1],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f(e,t>0,t),r=Object(c.a)(n,2),a=r[0],i=r[1];y(a),d(i)};return[h,s,b]}function f(e,t,n){return t&&e.length>n?[e.substring(0,n)+"...",!0]:[e,!1]}function m(e,t){"Enter"===e.key&&t()}function p(e,t){var n=e;(e>1||e<0)&&(n=.8);var r=Object(u.useRef)(n),a=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight*r.current&&t()};return[function(){window.addEventListener("scroll",a)},function(){window.removeEventListener("scroll",a)}]}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.Normal,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(u.useState)("".concat(e,"/").concat(n).concat(t)),o=Object(c.a)(i,2),l=o[0],s=o[1],d=Object(u.useRef)(a),f=function(){d.current?(s("".concat(e,"/").concat(r.Normal).concat(t)),d.current=!1):s("".concat(e,"/").concat(n,"0.jpg"))},m=function(e,t){s("".concat(e,"/").concat(n).concat(t))};return[l,f,m]}!function(e){e.Normal="",e.Medium="medium-",e.Small="small-"}(r||(r={}))},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(2),a=n.n(r),i=n(3),c=function(e,t,n){return e.map((function(e){return e===t?n:e}))};function u(e,t,n){return o.apply(this,arguments)}function o(){return(o=Object(i.a)(a.a.mark((function e(t,r,i){var c,u,o,l,s,d,f,m,p=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p.length>3&&void 0!==p[3]?p[3]:1,u=n(79),o=new u,e.next=5,o.compress([t],{size:1,quality:c,maxWidth:r,maxHeight:i,resize:!0});case 5:return l=e.sent,s=l[0],d=s.data,f=s.ext,m=u.convertBase64ToFile(d,f),e.abrupt("return",m);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},71:function(e,t,n){},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(2),a=n.n(r),i=n(3),c=n(13),u={insertArticle:"/article/insert_article",updateArticle:"/article/update_article",deleteArticle:"/article/delete_article",selectLatestArticles:"/article/select_latest_articles",selectArticlesByUser:"/article/select_articles_by_user",uploadImage:"/article/upload_article_image"};function o(e){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.UploadFile)("/article/upload_article_image",t);case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,a,i;a=[e,n(1),n(2),n(3),n(4),n(5),n(6)],r=function(e,t,n,r,a,i,c){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var o=u(t),l=u(n),s=u(r),d=u(a),f=u(i),m=u(c),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return p(e,[{key:"attach",value:function(e,t){var n=this;return new Promise((function(r,a){var i=document.querySelector(e);i.setAttribute("accept","image/*"),i.addEventListener("change",(function(e){var a=n.compress([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.target.files)),t);r(a)}),!1)}))}},{key:"compress",value:function(e,t){function n(e,t){var n=new f.default(t);return n.start=window.performance.now(),n.alt=e.name,n.ext=e.type,n.startSize=e.size,m.default.orientation(e).then((function(t){return n.orientation=t,s.default.load(e)})).then(function(e){return function(t){return d.default.load(t).then((function(t){if(e.startWidth=t.naturalWidth,e.startHeight=t.naturalHeight,e.resize){var n=d.default.resize(e.maxWidth,e.maxHeight)(t.naturalWidth,t.naturalHeight),r=n.width,a=n.height;e.endWidth=r,e.endHeight=a}else e.endWidth=t.naturalWidth,e.endHeight=t.naturalHeight;return l.default.imageToCanvas(e.endWidth,e.endHeight,e.orientation)(t)})).then((function(t){return e.iterations=1,e.base64prefix=o.default.prefix(e.ext),function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments[5],u=l.default.canvasToBase64(t,r),s=o.default.size(u);return c+=1,s>a||r>i?e(t,s,r-.1,a,i,c):u}(t,e.startSize,e.quality,e.size,e.minQuality,e.iterations)})).then((function(t){return e.finalSize=o.default.size(t),o.default.data(t)})).then((function(t){e.end=window.performance.now();var n=e.end-e.start;return{data:t,prefix:e.base64prefix,elapsedTimeInSeconds:n/1e3,alt:e.alt,initialSizeInMb:l.default.size(e.startSize).MB,endSizeInMb:l.default.size(e.finalSize).MB,ext:e.ext,quality:e.quality,endWidthInPx:e.endWidth,endHeightInPx:e.endHeight,initialWidthInPx:e.startWidth,initialHeightInPx:e.startHeight,sizeReducedInPercent:(e.startSize-e.finalSize)/e.startSize*100,iterations:e.iterations}}))}}(n))}return Promise.all(e.map((function(e){return n(e,t)})))}}],[{key:"convertBase64ToFile",value:function(e,t){return l.default.base64ToFile(e,t)}}]),e}();e.exports=h},void 0===(i="function"==typeof r?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={size:function(e){var t=e.replace(/^data:image\/\w+;base64,/,"").length;return(t-814)/1.37},mime:function(e){return e.split(";")[0].match(/jpeg|png|gif/)[0]},data:function(e){return e.replace(/^data:image\/\w+;base64,/,"")},prefix:function(e){return"data:"+e+";base64,"}}})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={base64ToFile:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=window.atob(e),r=[],a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return new window.Blob([new Uint8Array(r)],{type:t})},imageToCanvas:function(e,t,n){var r=document.createElement("canvas"),a=r.getContext("2d");return r.width=e,r.height=t,function(i){if(!n||n>8)return a.drawImage(i,0,0,r.width,r.height),r;switch(n>4&&(r.width=t,r.height=e),n){case 2:a.translate(e,0),a.scale(-1,1);break;case 3:a.translate(e,t),a.rotate(Math.PI);break;case 4:a.translate(0,t),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-t);break;case 7:a.rotate(.5*Math.PI),a.translate(e,-t),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-e,0)}return n>4?a.drawImage(i,0,0,r.height,r.width):a.drawImage(i,0,0,r.width,r.height),r}},canvasToBase64:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=e.toDataURL("image/jpeg",t);return n},size:function(e){return{KB:e/1e3,MB:e/1e6}}}})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var r=new window.FileReader;r.addEventListener("load",(function(e){t(e.target.result)}),!1),r.addEventListener("error",(function(e){n(e)}),!1),r.readAsDataURL(e)}))}}})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var r=new window.Image;r.addEventListener("load",(function(){t(r)}),!1),r.addEventListener("error",(function(e){n(e)}),!1),r.src=e}))},resize:function(e,t){return function(n,r){if(!e&&!t)return{width:n,height:r};var a=n/r,i=void 0,c=void 0;return a>e/t?c=(i=Math.min(n,e))/a:i=(c=Math.min(r,t))*a,{width:i,height:c}}}}})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){var n=t.quality,r=void 0===n?.75:n,a=t.size,i=void 0===a?2:a,c=t.maxWidth,u=void 0===c?1920:c,o=t.maxHeight,l=void 0===o?1920:o,s=t.resize,d=void 0===s||s;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.start=window.performance.now(),this.end=null,this.alt=null,this.ext=null,this.startSize=null,this.startWidth=null,this.startHeight=null,this.size=1e3*i*1e3,this.endSize=null,this.endWidth=null,this.endHeight=null,this.iterations=0,this.base64prefix=null,this.quality=r,this.resize=d,this.maxWidth=u,this.maxHeight=l,this.orientation=1}})?r.apply(t,a):r)||(e.exports=i)},function(e,t,n){var r,a,i;a=[t],void 0===(i="function"==typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={orientation:function(e){return new Promise((function(t,n){var r=new window.FileReader;r.onload=function(e){var n=new DataView(e.target.result);65496!==n.getUint16(0,!1)&&t(-2);for(var r=n.byteLength,a=2;a<r;){var i=n.getUint16(a,!1);if(a+=2,65505===i){1165519206!==n.getUint32(a+=2,!1)&&t(-1);var c=18761===n.getUint16(a+=6,!1);a+=n.getUint32(a+4,c);var u=n.getUint16(a,c);a+=2;for(var o=0;o<u;o++)274===n.getUint16(a+12*o,c)&&t(n.getUint16(a+12*o+8,c))}else{if(65280!==(65280&i))break;a+=n.getUint16(a,!1)}}t(-1)},r.readAsArrayBuffer(e.slice(0,65536))}))}}})?r.apply(t,a):r)||(e.exports=i)}])}}]);
//# sourceMappingURL=14.d52c923d.chunk.js.map