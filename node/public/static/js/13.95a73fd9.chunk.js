(this.webpackJsonprewer=this.webpackJsonprewer||[]).push([[13],{117:function(e,t,n){"use strict";n.r(t),n.d(t,"Login",(function(){return y}));var a=n(0),r=n.n(a),c=(n(30),n(2)),u=n.n(c),s=n(3),i=n(12),o=(n(77),n(56)),l=n(29),f=n(72),m=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],m=Object(a.useState)(""),d=Object(i.a)(m,2),p=d[0],h=d[1],b=Object(o.e)({userName:"",nickName:"",password:"",permission:0}),v=Object(i.a)(b,3),g=v[0],w=(v[1],v[2]),j=Object(a.useRef)();function y(){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(g.userName);case 2:if(200===(t=e.sent).status){e.next=6;break}return c("Server error: invalid response from the server."),e.abrupt("return",!0);case 6:return e.next=8,t.json();case 8:if(!e.sent.exists){e.next=12;break}return h("Username already taken."),c("Taken"),e.abrupt("return",!0);case 12:return c("Free"),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==g.userName.length){e.next=3;break}return h("The username must be at least one character long."),e.abrupt("return",!1);case 3:if(!(g.userName.length>255)){e.next=6;break}return h("The username is too long."),e.abrupt("return",!1);case 6:return e.next=8,y();case 8:if(!e.sent){e.next=10;break}return e.abrupt("return",!1);case 10:if(g.password===j.current.value){e.next=13;break}return h("The two passwords don't match."),e.abrupt("return",!1);case 13:return console.log("requesting"),e.next=16,x();case 16:return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("sending request"),e.next=3,Object(l.c)(g);case 3:if(201!==e.sent.status){e.next=9;break}return h("You have successfully signed up to our website! Note: in this version of the application, all registered users automatically recieve level 2 (moderator) permissions."),e.abrupt("return",!0);case 9:return h("Server error: process failed."),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Sign up"),r.a.createElement("div",{className:"form-container"},r.a.createElement("label",{className:"form-item"},"New username:"),r.a.createElement("input",{value:g.userName,onChange:w,className:"form-item",name:"userName",placeholder:"Unique name which you can log in with"}),r.a.createElement("div",{className:"form-item"}),r.a.createElement("div",{className:"form-item"},r.a.createElement("span",{className:"form-item"},n),r.a.createElement("button",{onClick:y},"Check")),r.a.createElement("label",{className:"form-item"},"New nickname:"),r.a.createElement("input",{value:g.nickName,onChange:w,className:"form-item",name:"nickName",placeholder:"Name seen by others"}),r.a.createElement("label",{className:"form-item"},"New password:"),r.a.createElement("input",{value:g.password,onChange:w,className:"form-item",type:"password",name:"password",placeholder:"Password"}),r.a.createElement("label",{className:"form-item"},"New password again:"),r.a.createElement("input",{ref:j,className:"form-item",type:"password",name:"newPassword2",placeholder:"Password again"})),r.a.createElement("p",null,p),r.a.createElement("button",{onClick:function(){return O.apply(this,arguments)},className:"login-btn",type:"button"},"Sign Up"))},d=n(5),p=n(26),h=function(e){var t=e.setPermissionlevel,n=Object(a.useRef)(),c=Object(a.useRef)(),o=Object(a.useRef)(),f=r.a.useContext(p.a).messenger,h=r.a.createElement(a.Fragment,null,r.a.createElement("p",null,"Not signed up yet?",r.a.createElement("button",{onClick:function(){w(r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bottom-border"}),r.a.createElement(m,null)))}},"Do it now!")),r.a.createElement("div",{className:"bottom-border"})),b=Object(a.useState)(h),v=Object(i.a)(b,2),g=v[0],w=v[1],j=Object(d.f)();function y(){return(y=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)({userName:n.current.value,nickName:void 0,permission:1,password:c.current.value},o.current.checked);case 2:null!=(a=e.sent)?(t(a.permission),j.push("/rewer/home"),f.addSuccess("Logged in as: ".concat(a.userName,"."),5e3)):f.addWarning("Wrong username or password.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Login"),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"form-container"},r.a.createElement("label",{className:"form-item"},"Username:"),r.a.createElement("input",{className:"form-item",ref:n,name:"userName",placeholder:"username"}),r.a.createElement("label",{className:"form-item"},"Password:"),r.a.createElement("input",{className:"form-item",ref:c,type:"password",placeholder:"password",name:"password"}),r.a.createElement("div",{className:"form-item"},r.a.createElement("label",null,"Keep me logged in"),r.a.createElement("input",{ref:o,type:"checkbox"})),r.a.createElement("button",{onClick:function(){return y.apply(this,arguments)},className:"login-btn form-item",type:"button",name:"submit"},"Login"))),g)},b=n(65),v=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],f=Object(a.useState)(""),m=Object(i.a)(f,2),d=m[0],h=m[1],b=Object(a.useState)(""),v=Object(i.a)(b,2),g=v[0],w=v[1],j=Object(a.useContext)(p.a).messenger;function y(){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d===g){e.next=4;break}return j.addWarning("The two passwords don't match"),O(),e.abrupt("return",!1);case 4:return e.next=6,Object(l.f)({userName:localStorage.getItem("userName"),password:n,permission:0,nickName:localStorage.getItem("nickName")},d);case 6:if(!e.sent){e.next=13;break}return j.clear(),j.addWarning("Your password has been updated."),O(),e.abrupt("return",!0);case 13:return j.addFail("Access denied."),O(),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){c(""),h(""),w("")}return Object(a.useEffect)((function(){return function(){j.clear()}}),[]),r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Update password"),r.a.createElement("div",null,r.a.createElement("label",{className:"form-item"},"Current password:"),r.a.createElement("input",{value:n,onChange:function(e){return c(e.target.value)},type:"password",className:"form-item",placeholder:"Enter old password"}),r.a.createElement("br",null),r.a.createElement("label",{className:"form-item"},"New password:"),r.a.createElement("input",{value:d,onChange:function(e){return h(e.target.value)},type:"password",className:"form-item",placeholder:"Enter new password"}),r.a.createElement("br",null),r.a.createElement("label",{className:"form-item"},"New password again:"),r.a.createElement("input",{value:g,onChange:function(e){return w(e.target.value)},onKeyDown:function(e){Object(o.b)(e,y)},type:"password",className:"form-item",placeholder:"Enter new password again"}),r.a.createElement("br",null)),r.a.createElement("button",{onClick:y,type:"button",className:"center"},"Update password"))};function g(){var e=Object(o.e)({userName:localStorage.getItem("userName"),nickName:localStorage.getItem("nickName"),permission:1,about:""}),t=Object(i.a)(e,3),n=t[0],c=t[1],m=t[2],d=Object(a.useRef)(),h=Object(o.g)("/rewer/uploads/avatars","".concat(localStorage.getItem("userName"),".jpg")),g=Object(i.a)(h,3),w=g[0],j=g[1],y=g[2],E=Object(a.useContext)(p.a).messenger;function O(){return(O=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.d)();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return N.apply(this,arguments)}function N(){return(N=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.c)(n);case 2:if(!e.sent){e.next=6;break}E.addSuccess("Your profile has been updated.",5e3),e.next=7;break;case 6:E.addFail("Server error: failed to update your profile.");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.b)(localStorage.getItem("userName"));case 2:(t=e.sent)&&c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new FormData,d.current.files[0]){e.next=4;break}return E.addWarning("No file was selected."),e.abrupt("return");case 4:return e.next=6,Object(b.b)(d.current.files[0],300,300,.8);case 6:return n=e.sent,t.append("avatar",n,"".concat(localStorage.getItem("userName"),".jpg")),e.next=10,Object(f.d)(t);case 10:if(e.t0=e.sent.status,200!==e.t0){e.next=16;break}E.addSuccess("Avatar updated",6e3),y("/rewer/uploads/avatars","".concat(localStorage.getItem("userName"),".jpg?").concat((new Date).getTime())),e.next=17;break;case 16:E.addFail("Upload failed. Make sure file's size is not bigger than 10MB.");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){k.apply(this,arguments)}(),function(){E.clear()}}),[]),r.a.createElement(a.Fragment,null,r.a.createElement("h3",null,"User settings"),r.a.createElement("button",{onClick:function(){return O.apply(this,arguments)}},"Log out"),r.a.createElement("div",{className:"profile-grid"},r.a.createElement("div",{className:"profile-grid-item"},r.a.createElement("img",{src:w,onError:j,className:"image",alt:"Avatar",title:"Avatar"}),r.a.createElement("input",{ref:d,className:"file-input",type:"file",accept:".png,.jpg"}),r.a.createElement("button",{onClick:function(){return S.apply(this,arguments)},type:"button"},"Upload")),r.a.createElement("div",{className:"profile-grid-item"},r.a.createElement("h1",null,localStorage.getItem("userName")),r.a.createElement("div",null,r.a.createElement("label",null,"My nickname: "),r.a.createElement("input",{className:"nickname-input",type:"text",name:"nickName",value:n.nickName,onKeyDown:function(e){"Enter"===e.key&&x()},onChange:m}),r.a.createElement("button",{onClick:x,type:"button",className:"save"},"Save")),r.a.createElement("textarea",{className:"about",name:"about",value:n.about,onChange:m,rows:10}))),r.a.createElement("div",{className:"bottom-border"}),r.a.createElement(v,null))}var w=n(97),j=n(98),y=function(e){var t=e.setPermissionLevel;return Object(a.useEffect)((function(){document.title="My Profile - Rewer"}),[]),r.a.createElement("div",{className:"main-container"},null!=localStorage.getItem("userName")?r.a.createElement(a.Fragment,null,r.a.createElement(g,null),r.a.createElement(w.a,null),r.a.createElement("div",{className:"bottom-border"}),r.a.createElement(j.a,{length:20})):r.a.createElement(h,{setPermissionlevel:t}))};t.default=y},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return h}));var a,r=n(28),c=n(19),u=n(12),s=n(0);function i(e){var t=Object(s.useRef)(e),n=Object(s.useState)(!1),a=Object(u.a)(n,2)[1];return[t,function(e){Object.is(t.current,e)||(t.current=e,a((function(e){return!e})))}]}function o(e){var t=Object(s.useState)(e),n=Object(u.a)(t,2),a=n[0],i=n[1];return[a,i,function(e){i(Object(c.a)(Object(c.a)({},a),{},Object(r.a)({},e.target.name,e.target.value)))}]}function l(e){var t=Object(s.useRef)(e),n=Object(s.useState)(!1),a=Object(u.a)(n,2)[1],i=function(e){Object.is(t.current,e)||(t.current=e,a((function(e){return!e})))};return[t,i,function(e){i(Object(c.a)(Object(c.a)({},t.current),{},Object(r.a)({},e.target.name,e.target.value)))}]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=m(e,t>0,t),a=Object(u.a)(n,2),r=a[0],c=a[1],i=Object(s.useState)(c),o=Object(u.a)(i,2),l=o[0],f=o[1],d=Object(s.useState)(r),p=Object(u.a)(d,2),h=p[0],b=p[1],v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=m(e,t>0,t),a=Object(u.a)(n,2),r=a[0],c=a[1];b(r),f(c)};return[h,l,v]}function m(e,t,n){return t&&e.length>n?[e.substring(0,n)+"...",!0]:[e,!1]}function d(e,t){"Enter"===e.key&&t()}function p(e,t){var n=e;(e>1||e<0)&&(n=.8);var a=Object(s.useRef)(n),r=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight*a.current&&t()};return[function(){window.addEventListener("scroll",r)},function(){window.removeEventListener("scroll",r)}]}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Normal,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=Object(s.useState)("".concat(e,"/").concat(n).concat(t)),i=Object(u.a)(c,2),o=i[0],l=i[1],f=Object(s.useRef)(r),m=function(){f.current?(l("".concat(e,"/").concat(a.Normal).concat(t)),f.current=!1):l("".concat(e,"/").concat(n,"0.jpg"))},d=function(e,t){l("".concat(e,"/").concat(n).concat(t))};return[o,m,d]}!function(e){e.Normal="",e.Medium="medium-",e.Small="small-"}(a||(a={}))},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n(2),r=n.n(a),c=n(3),u=function(e,t,n){return e.map((function(e){return e===t?n:e}))};function s(e,t,n){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(r.a.mark((function e(t,a,c){var u,s,i,o,l,f,m,d,p=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=p.length>3&&void 0!==p[3]?p[3]:1,s=n(79),i=new s,e.next=5,i.compress([t],{size:1,quality:u,maxWidth:a,maxHeight:c,resize:!0});case 5:return o=e.sent,l=o[0],f=l.data,m=l.ext,d=s.convertBase64ToFile(f,m),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72:function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p}));var a=n(2),r=n.n(a),c=n(3),u=n(13),s={doesExist:"/user/does_exist",selectDetailedUser:"/user/select_detailed_user",uploadAvatar:"/user/upload_avatar",updateUserInfo:"/user/update_user_info",selectFollowers:"/user/select_followers",selectFollowedUsers:"/user/select_followed_users"};function i(e){return o.apply(this,arguments)}function o(){return(o=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:t},e.next=3,u.POSTAsynch("/user/does_exist",n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={userName:t},e.next=3,u.POSTAsynch("/user/select_detailed_user",n);case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.UploadFile("/user/upload_avatar",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.POSTAsynch("/user/update_user_info",t);case 2:if(200!==e.sent.status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},77:function(e,t,n){},79:function(e,t,n){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var a,r,c;r=[e,n(1),n(2),n(3),n(4),n(5),n(6)],a=function(e,t,n,a,r,c,u){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=s(t),o=s(n),l=s(a),f=s(r),m=s(c),d=s(u),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return p(e,[{key:"attach",value:function(e,t){var n=this;return new Promise((function(a,r){var c=document.querySelector(e);c.setAttribute("accept","image/*"),c.addEventListener("change",(function(e){var r=n.compress([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.target.files)),t);a(r)}),!1)}))}},{key:"compress",value:function(e,t){function n(e,t){var n=new m.default(t);return n.start=window.performance.now(),n.alt=e.name,n.ext=e.type,n.startSize=e.size,d.default.orientation(e).then((function(t){return n.orientation=t,l.default.load(e)})).then(function(e){return function(t){return f.default.load(t).then((function(t){if(e.startWidth=t.naturalWidth,e.startHeight=t.naturalHeight,e.resize){var n=f.default.resize(e.maxWidth,e.maxHeight)(t.naturalWidth,t.naturalHeight),a=n.width,r=n.height;e.endWidth=a,e.endHeight=r}else e.endWidth=t.naturalWidth,e.endHeight=t.naturalHeight;return o.default.imageToCanvas(e.endWidth,e.endHeight,e.orientation)(t)})).then((function(t){return e.iterations=1,e.base64prefix=i.default.prefix(e.ext),function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,u=arguments[5],s=o.default.canvasToBase64(t,a),l=i.default.size(s);return u+=1,l>r||a>c?e(t,l,a-.1,r,c,u):s}(t,e.startSize,e.quality,e.size,e.minQuality,e.iterations)})).then((function(t){return e.finalSize=i.default.size(t),i.default.data(t)})).then((function(t){e.end=window.performance.now();var n=e.end-e.start;return{data:t,prefix:e.base64prefix,elapsedTimeInSeconds:n/1e3,alt:e.alt,initialSizeInMb:o.default.size(e.startSize).MB,endSizeInMb:o.default.size(e.finalSize).MB,ext:e.ext,quality:e.quality,endWidthInPx:e.endWidth,endHeightInPx:e.endHeight,initialWidthInPx:e.startWidth,initialHeightInPx:e.startHeight,sizeReducedInPercent:(e.startSize-e.finalSize)/e.startSize*100,iterations:e.iterations}}))}}(n))}return Promise.all(e.map((function(e){return n(e,t)})))}}],[{key:"convertBase64ToFile",value:function(e,t){return o.default.base64ToFile(e,t)}}]),e}();e.exports=h},void 0===(c="function"==typeof a?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={size:function(e){var t=e.replace(/^data:image\/\w+;base64,/,"").length;return(t-814)/1.37},mime:function(e){return e.split(";")[0].match(/jpeg|png|gif/)[0]},data:function(e){return e.replace(/^data:image\/\w+;base64,/,"")},prefix:function(e){return"data:"+e+";base64,"}}})?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={base64ToFile:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=window.atob(e),a=[],r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new window.Blob([new Uint8Array(a)],{type:t})},imageToCanvas:function(e,t,n){var a=document.createElement("canvas"),r=a.getContext("2d");return a.width=e,a.height=t,function(c){if(!n||n>8)return r.drawImage(c,0,0,a.width,a.height),a;switch(n>4&&(a.width=t,a.height=e),n){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,t),r.rotate(Math.PI);break;case 4:r.translate(0,t),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-t);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-t),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-e,0)}return n>4?r.drawImage(c,0,0,a.height,a.width):r.drawImage(c,0,0,a.width,a.height),a}},canvasToBase64:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=e.toDataURL("image/jpeg",t);return n},size:function(e){return{KB:e/1e3,MB:e/1e6}}}})?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var a=new window.FileReader;a.addEventListener("load",(function(e){t(e.target.result)}),!1),a.addEventListener("error",(function(e){n(e)}),!1),a.readAsDataURL(e)}))}}})?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var a=new window.Image;a.addEventListener("load",(function(){t(a)}),!1),a.addEventListener("error",(function(e){n(e)}),!1),a.src=e}))},resize:function(e,t){return function(n,a){if(!e&&!t)return{width:n,height:a};var r=n/a,c=void 0,u=void 0;return r>e/t?u=(c=Math.min(n,e))/r:c=(u=Math.min(a,t))*r,{width:c,height:u}}}}})?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){var n=t.quality,a=void 0===n?.75:n,r=t.size,c=void 0===r?2:r,u=t.maxWidth,s=void 0===u?1920:u,i=t.maxHeight,o=void 0===i?1920:i,l=t.resize,f=void 0===l||l;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.start=window.performance.now(),this.end=null,this.alt=null,this.ext=null,this.startSize=null,this.startWidth=null,this.startHeight=null,this.size=1e3*c*1e3,this.endSize=null,this.endWidth=null,this.endHeight=null,this.iterations=0,this.base64prefix=null,this.quality=a,this.resize=f,this.maxWidth=s,this.maxHeight=o,this.orientation=1}})?a.apply(t,r):a)||(e.exports=c)},function(e,t,n){var a,r,c;r=[t],void 0===(c="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={orientation:function(e){return new Promise((function(t,n){var a=new window.FileReader;a.onload=function(e){var n=new DataView(e.target.result);65496!==n.getUint16(0,!1)&&t(-2);for(var a=n.byteLength,r=2;r<a;){var c=n.getUint16(r,!1);if(r+=2,65505===c){1165519206!==n.getUint32(r+=2,!1)&&t(-1);var u=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,u);var s=n.getUint16(r,u);r+=2;for(var i=0;i<s;i++)274===n.getUint16(r+12*i,u)&&t(n.getUint16(r+12*i+8,u))}else{if(65280!==(65280&c))break;r+=n.getUint16(r,!1)}}t(-1)},a.readAsArrayBuffer(e.slice(0,65536))}))}}})?a.apply(t,r):a)||(e.exports=c)}])},88:function(e,t,n){"use strict";var a=n(12),r=n(0),c=n.n(r),u=n(11),s=n(56);t.a=function(e){var t=e.user,n=Object(s.g)("/rewer/uploads/avatars","".concat(t.userName,".jpg"),s.a.Small),r=Object(a.a)(n,2),i=r[0],o=r[1];return c.a.createElement(u.b,{to:"/rewer/user?userName=".concat(t.userName)},c.a.createElement("div",{className:"followed-user-row highlight"},c.a.createElement("img",{src:i,onError:o,className:"followed-user-row-item",alt:"user-poster"}),c.a.createElement("p",{className:"followed-user-row-item"},t.nickName)))}},97:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(3),u=n(12),s=n(0),i=n.n(s),o=n(13),l=n(72),f=n(88);t.a=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],m=Object(o.postCaller)({userName:localStorage.getItem("userName")},l.e.selectFollowedUsers),d=Object(u.a)(m,2),p=d[0],h=d[1];function b(){return(b=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:(t=e.sent)&&a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return localStorage.getItem("userName")&&function(){b.apply(this,arguments)}(),function(){h.abort()}}),[]),i.a.createElement(s.Fragment,null,i.a.createElement("h3",{className:"center-text"},"Followed"),n.map((function(e){return i.a.createElement(f.a,{key:"followed-".concat(e.userName),user:e})})))}},98:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(3),u=n(12),s=n(0),i=n.n(s),o=n(72),l=n(88),f=n(11),m=n(13);t.a=function(e){var t=e.length,n=Object(s.useState)([]),a=Object(u.a)(n,2),d=a[0],p=a[1],h=Object(m.postCaller)({userName:localStorage.getItem("userName"),limit:t},o.e.selectFollowers),b=Object(u.a)(h,2),v=b[0],g=b[1];function w(){return(w=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:(t=e.sent)&&p(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){return localStorage.getItem("userName")&&function(){w.apply(this,arguments)}(),function(){g.abort()}}),[]),i.a.createElement(s.Fragment,null,i.a.createElement("h3",{className:"center-text"},"My Followers"),d.slice(0,8).map((function(e){return i.a.createElement(l.a,{key:"followed-".concat(e.userName),user:e})})),d.length>t?i.a.createElement(f.b,{to:"TODO"},"More"):i.a.createElement(s.Fragment,null))}}}]);
//# sourceMappingURL=13.95a73fd9.chunk.js.map