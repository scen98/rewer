(this.webpackJsonprewer=this.webpackJsonprewer||[]).push([[1],{105:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(3),c=n(12),o=n(0),u=n.n(o),s=(n(58),n(65)),l=n(59),d=n(57),f=n(56),p=n(26);t.a=function(e){var t=e.movie,n=e.movieBinder,a=(e.setMovie,Object(o.useRef)()),m=Object(f.g)("/rewer/uploads/posters","".concat(t.id,".jpg")),v=Object(c.a)(m,3),b=v[0],h=v[1],g=v[2],j=Object(o.useContext)(p.a).messenger;function y(){return(y=Object(i.a)(r.a.mark((function e(){var n,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.next=3,Object(s.b)(a.current.files[0],400,600,.9);case 3:return i=e.sent,n.append("poster",i,"".concat(t.id,".jpg")),e.next=7,Object(l.c)(n);case 7:if(!e.sent){e.next=11;break}g("/rewer/uploads/posters","".concat(t.id,".jpg?").concat((new Date).getTime())),e.next=12;break;case 11:j.addFail("Server error: upload unsuccessful.");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){return t.id>0&&g("/rewer/uploads/posters","".concat(t.id,".jpg?").concat((new Date).getTime())),function(){j.clear()}}),[t.id]),u.a.createElement(o.Fragment,null,u.a.createElement("div",{className:"detail-grid"},u.a.createElement("div",{className:"span-2"},u.a.createElement("input",{value:t.title,onChange:n,name:"title",type:"text",placeholder:"Title",className:"title-input"}),u.a.createElement("br",null),u.a.createElement("label",null,"Runtime:"),u.a.createElement("input",{value:t.runtime,onChange:n,name:"runtime",type:"text"}),u.a.createElement("br",null),u.a.createElement("label",null,"Release date:"),u.a.createElement("input",{value:Object(d.f)(new Date(t.releaseDate)),onChange:n,name:"releaseDate",type:"date"}),u.a.createElement("textarea",{value:t.summary,onChange:n,name:"summary",placeholder:"Write something about the story...",rows:20})),u.a.createElement("div",null,u.a.createElement("img",{src:b,onError:h,alt:"Poster",title:"Poster",className:"edit-poster"}),t.id>0?u.a.createElement(o.Fragment,null,u.a.createElement("p",null,"It is recommended to use an image with a standard poster image ratio"),u.a.createElement("input",{ref:a,type:"file",accept:".png,.jpg,.jpeg",className:"file-input"}),u.a.createElement("button",{onClick:function(){return y.apply(this,arguments)}},"Upload")):u.a.createElement(o.Fragment,null,u.a.createElement("p",null,"Create the movie's page to edit this picture.")))))}},106:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(3),c=n(12),o=n(0),u=n.n(o),s=n(81),l=n(4),d=n(6),f=n(59),p=n(13);t.a=function(e){var t=e.movie,n=e.onAdd,a=e.onDelete,m=Object(o.useState)([]),v=Object(c.a)(m,2),b=v[0],h=v[1],g=Object(o.useState)({id:0,name:""}),j=Object(c.a)(g,2),y=j[0],w=j[1],O=Object(p.getCaller)(f.b.getGenres),E=Object(c.a)(O,2),x=E[0],C=E[1];function k(){return(k=Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:null!=(t=e.sent)&&h(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(){k.apply(this,arguments)}(),function(){C.abort()}}),[]),u.a.createElement("div",null,u.a.createElement("h3",null,"Genres:"),u.a.createElement("div",{className:"edit-genre-container"},t.genres.map((function(e){return u.a.createElement("div",{key:"genre-".concat(e.id),className:"edit-genre"},u.a.createElement("span",null,e.genreName),u.a.createElement("button",{onClick:function(){a(e.id)}},u.a.createElement(l.a,{icon:d.q})))}))),u.a.createElement(s.a,{genres:b,selectedGenre:y,setSelectedGenre:function(e){w(e)}}),u.a.createElement("button",{onClick:function(){y.id>0?n(y):n(b[0])}},"Add"),u.a.createElement("br",null))}},108:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(27),r=n(20),i=n(2),c=n.n(i),o=n(19),u=n(3),s=n(12),l=n(0),d=n.n(l),f=n(56),p=n(61),m=n(57),v=function(e){var t=e.artist,n=e.onClick,a=e.selectedArtist,r=Object(l.useRef)(),i=Object(f.g)("/rewer/uploads/portraits","".concat(t.id,".jpg"),f.a.Small,!0),c=Object(s.a)(i,2),o=c[0],u=c[1];return d.a.createElement("div",{ref:r,onClick:function(){n()},className:null==a?"artist-row":a.id===t.id?"artist-row selected-row":"artist-row"},d.a.createElement("img",{src:o,onError:u,alt:"NOT SET"}),d.a.createElement("p",null,t.name),d.a.createElement("p",{title:t.birthPlace},Object(m.e)(new Date(t.birthDate))))},b=(n(80),function(e){var t=e.artistList,n=e.onSelectionChanged,a=Object(f.d)(void 0),r=Object(s.a)(a,2),i=r[0],c=r[1];return d.a.createElement("div",null,t.map((function(e){return d.a.createElement(v,{key:"artist-row-".concat(e.id),selectedArtist:i.current,artist:e,onClick:function(){c(e),n(i.current)}})})))}),h=function(e){var t=e.typeList,n=e.updateValue,a=e.initialValue,r=void 0===a?null:a,i=Object(l.useRef)();return Object(l.useEffect)((function(){null!=r&&(i.current.value=r)}),[]),d.a.createElement("select",{ref:i,onChange:function(){n(i.current.value)}},t.map((function(e){return d.a.createElement("option",{key:"castType_".concat(e.value),value:e.value},e.name)})))},g=n(65),j=(n(68),n(13)),y=n(26),w=function(e){var t=e.cast,n=e.castTypes,a=e.onDelete,r=e.onUpdate,i=Object(l.useState)("edit-cast-row-container"),m=Object(s.a)(i,2),v=m[0],b=m[1],g=Object(f.c)(t),w=Object(s.a)(g,3),O=w[0],E=w[1],x=w[2],C=Object(j.postCaller)(),k=Object(s.a)(C,2),S=k[0],_=k[1],I=Object(f.g)("/rewer/uploads/portraits","".concat(O.current.artistId,".jpg"),f.a.Small),M=Object(s.a)(I,2),T=M[0],N=M[1],z=Object(l.useContext)(y.a).messenger;function D(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S({id:t.id},p.a.deleteCast,j.ECallType.ISOK);case 2:if(!e.sent){e.next=6;break}a(),e.next=7;break;case 6:z.addFail("Server error: could not delete chosen cast row.");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(O.current,p.a.updateCast,j.ECallType.ISOK);case 2:if(!e.sent){e.next=7;break}r(O.current),W(),e.next=8;break;case 7:z.addFail("Server error: could not save changes.");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(l.useEffect)((function(){return function(){_.abort()}}),[]);var F=function(e){E(Object(o.a)(Object(o.a)({},O.current),{},{castTypeId:parseInt(e)}))},U=function(){v.includes("unsaved")||b(v+" unsaved")},W=function(){v.includes("unsaved")&&b(v.replace(" unsaved",""))};return d.a.createElement("div",{className:v},window.screen.width>600?d.a.createElement("div",{className:"edit-cast-row"},d.a.createElement("img",{src:T,onError:N,alt:t.artistName}),d.a.createElement("p",null,O.current.artistName),d.a.createElement("input",{name:"name",value:O.current.name,onChange:function(e){x(e),U()}}),d.a.createElement(h,{typeList:n,initialValue:O.current.castTypeId.toString(),updateValue:function(e){F(e),U()}}),d.a.createElement("button",{onClick:A},"Update"),d.a.createElement("button",{onClick:D},"Delete")):d.a.createElement("div",null,d.a.createElement("div",{className:"edit-cast-row-mobile-row-1"},d.a.createElement("img",{src:T,onError:N,alt:t.artistName}),d.a.createElement("p",null,O.current.artistName)),d.a.createElement("input",{className:"mobile-cast-input",placeholder:"Empty",name:"name",value:O.current.name,onChange:function(e){x(e),U()}}),d.a.createElement("div",{className:"edit-cast-row-mobile-row-2"},d.a.createElement(h,{typeList:n,initialValue:O.current.castTypeId.toString(),updateValue:function(e){F(e),U()}}),d.a.createElement("button",{onClick:A},"Update"),d.a.createElement("button",{onClick:D},"Delete"))))},O=function(e){var t=e.castList,n=e.setCastList,a=e.castTypes;function r(e){n(Object(g.a)(t,t.find((function(t){return t.id===e.id})),e))}return d.a.createElement("div",null,t.map((function(e){return d.a.createElement(w,{key:"edit-cast-".concat(e.id),onDelete:function(){var a;a=e.id,n(t.filter((function(e){return e.id!==a})))},cast:e,onUpdate:r,castTypes:a})})))},E=n(11),x=n(83),C=(n(58),function(e){var t=e.movie,n=e.setMovie,i=e.season,m=e.setEpisodes,v=Object(l.useState)([]),g=Object(s.a)(v,2),w=g[0],C=g[1],k=Object(l.useState)([]),S=Object(s.a)(k,2),_=S[0],I=S[1],M=Object(f.e)({search:""}),T=Object(s.a)(M,3),N=T[0],z=(T[1],T[2]),D=Object(f.e)({id:0,movieId:t.id,artistId:0,castTypeId:1,name:"",artistName:"Not selected"}),P=Object(s.a)(D,3),A=P[0],L=P[1],F=P[2],U=Object(j.postCaller)({keyword:N.search,limit:25,offset:0},x.a.selectArtistsByKeyword),W=Object(s.a)(U,2),H=W[0],B=W[1],R=Object(j.getCaller)(p.a.getCastTypes),G=Object(s.a)(R,2),q=G[0],V=G[1],J=Object(l.useContext)(y.a).messenger;function K(){return(K=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Y(),X()]);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return Q.apply(this,arguments)}function Q(){return(Q=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=C,e.next=3,q();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return Z.apply(this,arguments)}function Z(){return(Z=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,H({keyword:N.search,limit:25,offset:0},x.a.selectArtistsByKeyword,j.ECallType.SELECT);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==A.artistId&&null!=A.artistId){e.next=5;break}return J.addWarning("You have choose and artist first!",5e3),e.abrupt("return",!1);case 5:return e.next=7,ee();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return te.apply(this,arguments)}function te(){return(te=Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(A,p.a.insertCast,j.ECallType.INSERT);case 2:if(!(n=e.sent)){e.next=9;break}return ae([].concat(Object(r.a)(t.casts),[Object(o.a)(Object(o.a)({},A),{},{id:n})]).sort(p.b)),L(Object(o.a)(Object(o.a)({},A),{},{id:0,name:""})),e.abrupt("return",!0);case 9:return J.addFail("Server error: could not add cast member."),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(c.a.mark((function e(){var t,n,r,u,s,l,d,f;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==A.artistId&&null!=A.artistId){e.next=3;break}return J.addWarning("You have choose and artist first!",5e3),e.abrupt("return",!1);case 3:t=[],n=Object(a.a)(i.episodes);try{for(n.s();!(r=n.n()).done;)u=r.value,t.push(Object(o.a)(Object(o.a)({},A),{},{movieId:u.id}))}catch(c){n.e(c)}finally{n.f()}return e.next=8,H({casts:t},p.a.insertCasts,j.ECallType.SELECT);case 8:t=e.sent,s=i.episodes,l=Object(a.a)(s);try{for(f=function(){var e=d.value;e.casts.push(t.find((function(t){return t.movieId===e.id})))},l.s();!(d=l.n()).done;)f()}catch(c){l.e(c)}finally{l.f()}m(s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){n(Object(o.a)(Object(o.a)({},t),{},{casts:e}))}return Object(l.useEffect)((function(){return function(){K.apply(this,arguments)}(),function(){B.abort(),V.abort(),J.clear()}}),[]),Object(l.useEffect)((function(){L(Object(o.a)(Object(o.a)({},A),{},{movieId:t.id}))}),[t.id]),d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("h2",null,"Cast: "),d.a.createElement(O,{castList:t.casts,setCastList:ae,castTypes:w})),d.a.createElement("div",{className:"adder-panel"},d.a.createElement("h3",null,"Add cast member:"),d.a.createElement("span",{className:"artist-name"},A.artistName),d.a.createElement(h,{typeList:w,updateValue:function(e){L(Object(o.a)(Object(o.a)({},A),{},{castTypeId:parseInt(e)}))}}),d.a.createElement("input",{value:A.name,onChange:F,name:"name",placeholder:"As"}),d.a.createElement("button",{onClick:function(){return $.apply(this,arguments)}},"Add"),t.seasonId>0?d.a.createElement("button",{onClick:function(){return ne.apply(this,arguments)}},"Add to each episode"):d.a.createElement(l.Fragment,null),d.a.createElement("br",null),d.a.createElement(E.b,{to:"/rewer/editartist?artistId=0"},"Create new star")),d.a.createElement("div",null,d.a.createElement("input",{value:N.search,name:"search",onChange:z,onKeyDown:function(e){Object(f.b)(e,X)},placeholder:"Search"}),d.a.createElement("button",{onClick:X},"Search"),d.a.createElement(b,{artistList:_,onSelectionChanged:function(e){L(Object(o.a)(Object(o.a)({},A),{},{artistId:e.id,artistName:e.name}))}})))})},56:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return v}));var a,r=n(28),i=n(19),c=n(12),o=n(0);function u(e){var t=Object(o.useRef)(e),n=Object(o.useState)(!1),a=Object(c.a)(n,2)[1];return[t,function(e){Object.is(t.current,e)||(t.current=e,a((function(e){return!e})))}]}function s(e){var t=Object(o.useState)(e),n=Object(c.a)(t,2),a=n[0],u=n[1];return[a,u,function(e){u(Object(i.a)(Object(i.a)({},a),{},Object(r.a)({},e.target.name,e.target.value)))}]}function l(e){var t=Object(o.useRef)(e),n=Object(o.useState)(!1),a=Object(c.a)(n,2)[1],u=function(e){Object.is(t.current,e)||(t.current=e,a((function(e){return!e})))};return[t,u,function(e){u(Object(i.a)(Object(i.a)({},t.current),{},Object(r.a)({},e.target.name,e.target.value)))}]}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f(e,t>0,t),a=Object(c.a)(n,2),r=a[0],i=a[1],u=Object(o.useState)(i),s=Object(c.a)(u,2),l=s[0],d=s[1],p=Object(o.useState)(r),m=Object(c.a)(p,2),v=m[0],b=m[1],h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=f(e,t>0,t),a=Object(c.a)(n,2),r=a[0],i=a[1];b(r),d(i)};return[v,l,h]}function f(e,t,n){return t&&e.length>n?[e.substring(0,n)+"...",!0]:[e,!1]}function p(e,t){"Enter"===e.key&&t()}function m(e,t){var n=e;(e>1||e<0)&&(n=.8);var a=Object(o.useRef)(n),r=function(){window.innerHeight+window.scrollY>=document.body.offsetHeight*a.current&&t()};return[function(){window.addEventListener("scroll",r)},function(){window.removeEventListener("scroll",r)}]}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Normal,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Object(o.useState)("".concat(e,"/").concat(n).concat(t)),u=Object(c.a)(i,2),s=u[0],l=u[1],d=Object(o.useRef)(r),f=function(){d.current?(l("".concat(e,"/").concat(a.Normal).concat(t)),d.current=!1):l("".concat(e,"/").concat(n,"0.jpg"))},p=function(e,t){l("".concat(e,"/").concat(n).concat(t))};return[s,f,p]}!function(e){e.Normal="",e.Medium="medium-",e.Small="small-"}(a||(a={}))},57:function(e,t,n){"use strict";function a(e){return"".concat(e.getFullYear(),". ").concat(s[e.getMonth()]," ").concat(e.getDate())}function r(e){return new Date(e).getFullYear()}function i(e){return s[new Date(e).getMonth()]}function c(e){return new Date(e).getDate()}function o(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(s[t.getMonth()]," ").concat(t.getFullYear())}function u(e){var t,n;return t=e.getMonth()<9?"0".concat(e.getMonth()+1):(e.getMonth()+1).toString(),n=e.getDate()<10?"0".concat(e.getDate()):e.getDate().toString(),"".concat(e.getFullYear(),"-").concat(t,"-").concat(n)}n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return u}));var s=["Janury","February","March","April","May","June","July","August","September","October","November","December"]},58:function(e,t,n){},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));var a=n(2),r=n.n(a),i=n(3),c=n(13),o={selectDetailedMovie:"/movie/select_detailed_movie",selectLatestMovies:"/movie/select_latest_movies",selectLatestMoviesJson:"/jsondb/latest_movies.json",selectLatestMoviesByGenre:"/movie/select_latest_movies_by_genre",selectMoviesByScore:"/movie/select_movies_by_score",getGenres:"/jsondb/genres.json",insertMovie:"/movie/insert_movie",updateMovie:"/movie/update_movie",deleteMovie:"/movie/delete_movie",uploadPoster:"/movie/upload_poster",insertMovieGenre:"/genre/insert_movie_genre",deleteMovieGenre:"/genre/delete_movie_genre",selectUpcomingMovies:"/movie/select_upcoming_movies",selectUpcomingMoviesJson:"/jsondb/upcoming_movies.json"};function u(e){return s.apply(this,arguments)}function s(){return(s=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(c.UploadFile)("/movie/upload_poster",t);case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t){return e.genreName.localeCompare(t.genreName)}},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={getCastTypes:"/jsondb/cast_types.json",insertCast:"/cast/insert_cast",insertCasts:"/cast/insert_casts",updateCast:"/cast/update_cast",deleteCast:"/cast/delete_cast"};function r(e,t){return e.castTypeId<t.castTypeId?-1:e.castTypeId>t.castTypeId?1:0}},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return o}));var a=n(2),r=n.n(a),i=n(3),c=function(e,t,n){return e.map((function(e){return e===t?n:e}))};function o(e,t,n){return u.apply(this,arguments)}function u(){return(u=Object(i.a)(r.a.mark((function e(t,a,i){var c,o,u,s,l,d,f,p,m=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=m.length>3&&void 0!==m[3]?m[3]:1,o=n(79),u=new o,e.next=5,u.compress([t],{size:1,quality:c,maxWidth:a,maxHeight:i,resize:!0});case 5:return s=e.sent,l=s[0],d=l.data,f=l.ext,p=o.convertBase64ToFile(d,f),e.abrupt("return",p);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},68:function(e,t,n){},79:function(e,t,n){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var a,r,i;r=[e,n(1),n(2),n(3),n(4),n(5),n(6)],a=function(e,t,n,a,r,i,c){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var u=o(t),s=o(n),l=o(a),d=o(r),f=o(i),p=o(c),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),v=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return m(e,[{key:"attach",value:function(e,t){var n=this;return new Promise((function(a,r){var i=document.querySelector(e);i.setAttribute("accept","image/*"),i.addEventListener("change",(function(e){var r=n.compress([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.target.files)),t);a(r)}),!1)}))}},{key:"compress",value:function(e,t){function n(e,t){var n=new f.default(t);return n.start=window.performance.now(),n.alt=e.name,n.ext=e.type,n.startSize=e.size,p.default.orientation(e).then((function(t){return n.orientation=t,l.default.load(e)})).then(function(e){return function(t){return d.default.load(t).then((function(t){if(e.startWidth=t.naturalWidth,e.startHeight=t.naturalHeight,e.resize){var n=d.default.resize(e.maxWidth,e.maxHeight)(t.naturalWidth,t.naturalHeight),a=n.width,r=n.height;e.endWidth=a,e.endHeight=r}else e.endWidth=t.naturalWidth,e.endHeight=t.naturalHeight;return s.default.imageToCanvas(e.endWidth,e.endHeight,e.orientation)(t)})).then((function(t){return e.iterations=1,e.base64prefix=u.default.prefix(e.ext),function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,c=arguments[5],o=s.default.canvasToBase64(t,a),l=u.default.size(o);return c+=1,l>r||a>i?e(t,l,a-.1,r,i,c):o}(t,e.startSize,e.quality,e.size,e.minQuality,e.iterations)})).then((function(t){return e.finalSize=u.default.size(t),u.default.data(t)})).then((function(t){e.end=window.performance.now();var n=e.end-e.start;return{data:t,prefix:e.base64prefix,elapsedTimeInSeconds:n/1e3,alt:e.alt,initialSizeInMb:s.default.size(e.startSize).MB,endSizeInMb:s.default.size(e.finalSize).MB,ext:e.ext,quality:e.quality,endWidthInPx:e.endWidth,endHeightInPx:e.endHeight,initialWidthInPx:e.startWidth,initialHeightInPx:e.startHeight,sizeReducedInPercent:(e.startSize-e.finalSize)/e.startSize*100,iterations:e.iterations}}))}}(n))}return Promise.all(e.map((function(e){return n(e,t)})))}}],[{key:"convertBase64ToFile",value:function(e,t){return s.default.base64ToFile(e,t)}}]),e}();e.exports=v},void 0===(i="function"==typeof a?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={size:function(e){var t=e.replace(/^data:image\/\w+;base64,/,"").length;return(t-814)/1.37},mime:function(e){return e.split(";")[0].match(/jpeg|png|gif/)[0]},data:function(e){return e.replace(/^data:image\/\w+;base64,/,"")},prefix:function(e){return"data:"+e+";base64,"}}})?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={base64ToFile:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=window.atob(e),a=[],r=0;r<n.length;r++)a[r]=n.charCodeAt(r);return new window.Blob([new Uint8Array(a)],{type:t})},imageToCanvas:function(e,t,n){var a=document.createElement("canvas"),r=a.getContext("2d");return a.width=e,a.height=t,function(i){if(!n||n>8)return r.drawImage(i,0,0,a.width,a.height),a;switch(n>4&&(a.width=t,a.height=e),n){case 2:r.translate(e,0),r.scale(-1,1);break;case 3:r.translate(e,t),r.rotate(Math.PI);break;case 4:r.translate(0,t),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-t);break;case 7:r.rotate(.5*Math.PI),r.translate(e,-t),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-e,0)}return n>4?r.drawImage(i,0,0,a.height,a.width):r.drawImage(i,0,0,a.width,a.height),a}},canvasToBase64:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,n=e.toDataURL("image/jpeg",t);return n},size:function(e){return{KB:e/1e3,MB:e/1e6}}}})?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var a=new window.FileReader;a.addEventListener("load",(function(e){t(e.target.result)}),!1),a.addEventListener("error",(function(e){n(e)}),!1),a.readAsDataURL(e)}))}}})?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(e){return new Promise((function(t,n){var a=new window.Image;a.addEventListener("load",(function(){t(a)}),!1),a.addEventListener("error",(function(e){n(e)}),!1),a.src=e}))},resize:function(e,t){return function(n,a){if(!e&&!t)return{width:n,height:a};var r=n/a,i=void 0,c=void 0;return r>e/t?c=(i=Math.min(n,e))/r:i=(c=Math.min(a,t))*r,{width:i,height:c}}}}})?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){var n=t.quality,a=void 0===n?.75:n,r=t.size,i=void 0===r?2:r,c=t.maxWidth,o=void 0===c?1920:c,u=t.maxHeight,s=void 0===u?1920:u,l=t.resize,d=void 0===l||l;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.start=window.performance.now(),this.end=null,this.alt=null,this.ext=null,this.startSize=null,this.startWidth=null,this.startHeight=null,this.size=1e3*i*1e3,this.endSize=null,this.endWidth=null,this.endHeight=null,this.iterations=0,this.base64prefix=null,this.quality=a,this.resize=d,this.maxWidth=o,this.maxHeight=s,this.orientation=1}})?a.apply(t,r):a)||(e.exports=i)},function(e,t,n){var a,r,i;r=[t],void 0===(i="function"==typeof(a=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={orientation:function(e){return new Promise((function(t,n){var a=new window.FileReader;a.onload=function(e){var n=new DataView(e.target.result);65496!==n.getUint16(0,!1)&&t(-2);for(var a=n.byteLength,r=2;r<a;){var i=n.getUint16(r,!1);if(r+=2,65505===i){1165519206!==n.getUint32(r+=2,!1)&&t(-1);var c=18761===n.getUint16(r+=6,!1);r+=n.getUint32(r+4,c);var o=n.getUint16(r,c);r+=2;for(var u=0;u<o;u++)274===n.getUint16(r+12*u,c)&&t(n.getUint16(r+12*u+8,c))}else{if(65280!==(65280&i))break;r+=n.getUint16(r,!1)}}t(-1)},a.readAsArrayBuffer(e.slice(0,65536))}))}}})?a.apply(t,r):a)||(e.exports=i)}])},80:function(e,t,n){},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(20),r=n(12),i=n(0),c=n.n(i),o=function(e){var t=e.genres,n=e.setSelectedGenre,o=e.selectedGenre,u=e.any,s=Object(i.useState)([]),l=Object(r.a)(s,2),d=l[0],f=l[1];return Object(i.useEffect)((function(){f(u?[{id:0,name:"Any"}].concat(Object(a.a)(t)):t)}),[t]),c.a.createElement("select",{value:o.id.toString(),onChange:function(e){n(d.find((function(t){return t.id===parseInt(e.target.value)})))}},d.map((function(e){return c.a.createElement("option",{key:"opt".concat(e.id),value:e.id},e.name)})))}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={selectArtistsByKeyword:"/artist/select_artists_by_keyword",selectDetailedArtist:"/artist/select_detailed_artist",insertArtist:"/artist/insert_artist",updateArtist:"/artist/update_artist",uploadPortrait:"/artist/upload_portrait"}}}]);
//# sourceMappingURL=1.511599ec.chunk.js.map