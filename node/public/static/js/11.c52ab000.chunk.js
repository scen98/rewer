(this.webpackJsonprewer=this.webpackJsonprewer||[]).push([[11],{118:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return _}));var n=a(20),r=a(2),c=a.n(r),s=a(19),o=a(3),u=a(12),l=a(0),i=a.n(l),m=a(56),f=a(21),d=a(84),p=a(90),v=a(6),b=a(4),E=a(29),j=a(13),w="/follow/insert_follow",O="/follow/delete_follow",h=a(31),y=function(e){var t=e.defaultValue,a=e.onUpdate,n=Object(l.useRef)();return i.a.createElement("select",{ref:n,value:t,onChange:function(){a(n.current.value)}},i.a.createElement("option",{value:"0"},"Banned"),i.a.createElement("option",{value:"1"},"User"),i.a.createElement("option",{value:"2"},"Moderator"),i.a.createElement("option",{value:"3"},"Admin"))},g=(a(77),function(e){var t=e.user,a=Object(l.useState)(Object(s.a)({},t)),n=Object(u.a)(a,2),r=n[0],f=n[1],d=Object(l.useState)(i.a.createElement(l.Fragment,null)),p=Object(u.a)(d,2),g=p[0],N=p[1],k=Object(m.g)("/rewer/uploads/avatars","".concat(r.userName,".jpg")),S=Object(u.a)(k,2),x=S[0],C=S[1],I=Object(j.postCaller)(),_=Object(u.a)(I,2),F=_[0],T=_[1],D=Object(l.useState)({id:r.isFollowed,follower:localStorage.getItem("userName"),followed:r.userName}),U=Object(u.a)(D,2),L=U[0],R=U[1],M=Object(l.useContext)(h.a).showModal;function V(){return(V=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:0,userName:r.userName,level:parseInt(t)},e.next=3,F(a,E.a.updatePermission,j.ECallType.ISOK);case 3:if(!e.sent){e.next=7;break}f(Object(s.a)(Object(s.a)({},r),{},{permission:a.level})),e.next=8;break;case 7:alert("Server error");case 8:return f(Object(s.a)(Object(s.a)({},r),{},{permission:parseInt(t)})),e.abrupt("return",(function(){return T.abort()}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(i.a.createElement("button",{className:"follow"},"Follow")),e.next=3,F(L,w,j.ECallType.INSERT);case 3:(t=e.sent)&&R(Object(s.a)(Object(s.a)({},L),{},{id:t}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return J.apply(this,arguments)}function J(){return(J=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(K,{title:"",content:i.a.createElement("p",null,"Are you sure you want to stop following ",r.nickName,"?"),acceptButton:i.a.createElement(l.Fragment,null,"Unfollow"),refuseButton:i.a.createElement(l.Fragment,null,"Cancel")});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F({id:L.id},O,j.ECallType.ISOK);case 2:if(!e.sent){e.next=5;break}R(Object(s.a)(Object(s.a)({},L),{},{id:0})),N(i.a.createElement("button",{className:"unfollow"},"Unfollow"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){f(t)}),[t]),Object(l.useEffect)((function(){var e;e=t,null!=localStorage.getItem("userName")&&localStorage.getItem("userName")!==e.userName&&(L.id>0?N(i.a.createElement("button",{onClick:B,className:"unfollow"},i.a.createElement(b.a,{icon:v.w}),"Unfollow")):N(i.a.createElement("button",{onClick:A,className:"follow"},i.a.createElement(b.a,{icon:v.w}),"Follow")))}),[L]),Object(l.useEffect)((function(){R({id:r.isFollowed,follower:localStorage.getItem("userName"),followed:r.userName})}),[r]),i.a.createElement("div",null,i.a.createElement("h1",null,r.nickName),g,i.a.createElement("p",null,t.followerCount," followers"),3===parseInt(localStorage.getItem("permission"))&&t.userName!==localStorage.getItem("userName")?i.a.createElement(y,{defaultValue:r.permission.toString(),onUpdate:function(e){!function(e){V.apply(this,arguments)}(e)}}):i.a.createElement(l.Fragment,null),i.a.createElement("div",{className:"user-grid"},i.a.createElement("div",null,i.a.createElement("img",{src:x,onError:C,alt:"user-avatar"})),i.a.createElement("div",null,r.about.length>0?i.a.createElement("p",null,r.about):i.a.createElement("p",null,i.a.createElement("i",null,"Nothing special to see here...")))))}),N=a(86),k=a(87),S=a(73),x=a(69),C=a(72),I=a(66);function _(){var e=Object(l.useState)({userName:Object(f.b)("userName"),nickName:"",permission:1,about:""}),t=Object(u.a)(e,2),a=t[0],r=t[1],v=Object(m.d)([]),b=Object(u.a)(v,2),E=b[0],w=b[1],O=Object(l.useState)(I.a.date),h=Object(u.a)(O,2),y=h[0],_=h[1],F=Object(j.postCaller)(),T=Object(u.a)(F,2),D=T[0],U=T[1],L=Object(m.h)(.9,(function(){return B.apply(this,arguments)})),R=Object(u.a)(L,2),M=R[0],V=R[1];function A(){return(A=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({userName:Object(f.b)("userName")},C.e.selectDetailedUser,j.ECallType.SELECT);case 2:(t=e.sent)&&r(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.next=3,D({userName:a.userName,limit:5,offset:0,orderby:y},I.b.selectReviewsByUser,j.ECallType.SELECT);case 3:(t=e.sent)&&(w(t),5===t.length&&M());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),e.next=3,D({userName:a.userName,limit:5,offset:E.current.length,orderby:y},I.b.selectReviewsByUser,j.ECallType.SELECT);case 3:(t=e.sent)&&(w([].concat(Object(n.a)(E.current),Object(n.a)(t))),5===t.length&&M());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return K.apply(this,arguments)}function K(){return(K=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({id:t},I.b.deleteReview,j.ECallType.ISOK);case 2:if(!e.sent){e.next=4;break}w(E.current.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){return function(){A.apply(this,arguments)}(),function(){V(),U.abort()}}),[]),Object(l.useEffect)((function(){a&&(document.title="".concat(a.nickName," - Rewer"))}),[a]),Object(l.useEffect)((function(){return function(){P.apply(this,arguments)}(),function(){V(),U.abort()}}),[y]),i.a.createElement(l.Fragment,null,window.screen.width>800?i.a.createElement("div",{className:"main-grid"},i.a.createElement("div",{className:"left-item"},i.a.createElement("div",{className:"side-container medium-side"},i.a.createElement(x.a,null))),i.a.createElement("div",{className:"main-item"},i.a.createElement(g,{user:a}),i.a.createElement("br",null),i.a.createElement("h2",null,a.nickName,"'s reviews"),i.a.createElement(p.a,{defaultValue:y,onUpdate:function(e){_(e)}}),window.screen.width>600?i.a.createElement(l.Fragment,null,E.current.map((function(e){return i.a.createElement(d.a,{key:"review-".concat(e.id),review:Object(s.a)(Object(s.a)({},e),{},{nickName:""}),onDelete:J})}))):i.a.createElement(l.Fragment,null,E.current.map((function(e){return i.a.createElement(N.a,{key:"review-".concat(e.id),review:Object(s.a)(Object(s.a)({},e),{},{nickName:""}),onDelete:J})})))),i.a.createElement("div",{className:"right-item"},i.a.createElement("div",{className:"side-container medium-side"},i.a.createElement(k.a,null)),i.a.createElement("div",{className:"side-container medium-side"},i.a.createElement(S.a,null)))):i.a.createElement("div",{className:"main-container"},i.a.createElement(g,{user:a}),i.a.createElement("br",null),i.a.createElement("h2",null,a.nickName,"'s reviews"),i.a.createElement(p.a,{defaultValue:y,onUpdate:function(e){_(e)}}),window.screen.width>600?i.a.createElement(l.Fragment,null,E.current.map((function(e){return i.a.createElement(d.a,{key:"review-".concat(e.id),review:Object(s.a)(Object(s.a)({},e),{},{nickName:""}),onDelete:J})}))):i.a.createElement(l.Fragment,null,E.current.map((function(e){return i.a.createElement(N.a,{key:"review-".concat(e.id),review:Object(s.a)(Object(s.a)({},e),{},{nickName:""}),onDelete:J})})))))}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n={getCastTypes:"/jsondb/cast_types.json",insertCast:"/cast/insert_cast",insertCasts:"/cast/insert_casts",updateCast:"/cast/update_cast",deleteCast:"/cast/delete_cast"};function r(e,t){return e.castTypeId<t.castTypeId?-1:e.castTypeId>t.castTypeId?1:0}},62:function(e,t,a){"use strict";a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return f})),a.d(t,"h",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return E})),a.d(t,"b",(function(){return j})),a.d(t,"g",(function(){return w})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return k}));var n=a(2),r=a.n(n),c=a(19),s=a(27),o=a(3),u=a(13),l=a(61),i=a(59),m={insertSeries:"/series/insert_series",updateSeries:"/series/update_series",uploadSeriesPoster:"/series/upload_series_poster",selectDetailedSeries:"/series/select_detailed_series",selectLatestPreviewSeries:"/series/select_latest_preview_series",selectLatestPreviewSeriesJson:"/jsondb/latest_series.json",insertSeriesGenre:"/genre/insert_series_genre",deleteSeriesGenre:"/genre/delete_series_genre"};function f(e){return d.apply(this,arguments)}function d(){return(d=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.UploadFile)("/series/upload_series_poster",t);case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){e.genres.sort(i.a),function(e){var t,a=Object(s.a)(e.seasons);try{for(a.s();!(t=a.n()).done;){N(t.value)}}catch(n){a.e(n)}finally{a.f()}}(e);var t,a=Object(s.a)(e.seasons);try{for(a.s();!(t=a.n()).done;){t.value.episodes.sort(k)}}catch(n){a.e(n)}finally{a.f()}}function v(e){return e.seasons.filter((function(e){return e.episodes.length>0})).length}function b(e){var t=0;return e.seasons.forEach((function(e){t+=e.episodes.length})),t}function E(e){return e.seasons.length>0&&e.seasons[0].episodes.length>0?e.seasons[0].episodes[0].releaseDate:null}function j(e){var t,a=b(e),n=0,r=Object(s.a)(e.seasons);try{for(r.s();!(t=r.n()).done;){var c,o=t.value,u=Object(s.a)(o.episodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;l.runtime>0&&(n+=l.runtime)}}catch(i){u.e(i)}finally{u.f()}}}catch(i){r.e(i)}finally{r.f()}return n/a}function w(e){var t,a=[],n=Object(s.a)(e.seasons);try{for(n.s();!(t=n.n()).done;){h(t.value,a)}}catch(r){n.e(r)}finally{n.f()}return a}function O(e){var t,a=0,n=0,r=Object(s.a)(e.seasons);try{for(r.s();!(t=r.n()).done;){var c,o=t.value,u=Object(s.a)(o.episodes);try{for(u.s();!(c=u.n()).done;){var l=c.value;l.avgScore>0&&(n+=l.avgScore,a++)}}catch(i){u.e(i)}finally{u.f()}}}catch(i){r.e(i)}finally{r.f()}return n/a}function h(e,t){var a,n=Object(s.a)(e.episodes);try{for(n.s();!(a=n.n()).done;){y(a.value,t)}}catch(r){n.e(r)}finally{n.f()}}function y(e,t){var a,n=Object(s.a)(e.casts);try{for(n.s();!(a=n.n()).done;){g(a.value,t)}}catch(r){n.e(r)}finally{n.f()}}function g(e,t){var a=t.find((function(t){return t.artistId===e.artistId}));null!=a?function(e,t){var a=t.characterNames;0===t.characterNames.filter((function(t){return t===e.name})).length&&a.push(e.name);t=Object(c.a)(Object(c.a)({},t),{},{episodeCount:t.episodeCount++,characterNames:a})}(e,a):t.push({artistId:e.artistId,artistName:e.artistName,episodeCount:1,characterNames:[e.name],castTypeId:e.castTypeId})}function N(e){var t,a=Object(s.a)(e.episodes);try{for(a.s();!(t=a.n()).done;){t.value.casts.sort(l.b)}}catch(n){a.e(n)}finally{a.f()}}function k(e,t){if(new Date(e.releaseDate)>new Date(t.releaseDate))return 1;if(new Date(e.releaseDate)<new Date(t.releaseDate))return-1;if(e.releaseDate===t.releaseDate){if(e.id>t.id)return 1;if(e.id<t.id)return-1}return 0}},64:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(56);t.a=function(e){var t=e.movie,a=Object(s.g)("/rewer/uploads/posters","".concat(t.id,".jpg"),s.a.Medium,!0),o=Object(n.a)(a,2),u=o[0],l=o[1],i=Object(r.useState)(""),m=Object(n.a)(i,2),f=m[0],d=m[1],p=Object(r.useState)(""),v=Object(n.a)(p,2),b=v[0],E=v[1],j=Object(r.useRef)();return Object(r.useEffect)((function(){t.avgScore>6?(d("high-poster"),E("high"),j.current.style.display="block"):t.avgScore>3?(d("medium-poster"),E("medium"),j.current.style.display="block"):t.avgScore>0?(d("low-poster"),E("low"),j.current.style.display="block"):j.current.style.display="none"}),[t]),Object(r.useEffect)((function(){}),[t]),c.a.createElement("div",{className:"movie-container fade"},c.a.createElement("img",{className:f,src:u,alt:"".concat(t.title,"-poster"),onError:l}),c.a.createElement("p",{className:"movie-title"},t.title),c.a.createElement("div",{ref:j,className:b},c.a.createElement("p",{className:"score-line"},Math.round(10*t.avgScore)/10)))}},67:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(56);a(58);t.a=function(e){var t=e.series,a=Object(s.g)("/rewer/uploads/seriesposters","".concat(t.id,".jpg")),o=Object(n.a)(a,2),u=o[0],l=o[1],i=Object(r.useState)(""),m=Object(n.a)(i,2),f=m[0],d=m[1],p=Object(r.useState)(""),v=Object(n.a)(p,2),b=v[0],E=v[1],j=Object(r.useRef)();return Object(r.useEffect)((function(){t.avgScore>6?(d("high-poster"),E("high"),j.current.style.display="block"):t.avgScore>3?(d("medium-poster"),E("medium"),j.current.style.display="block"):t.avgScore>0?(d("low-poster"),E("low"),j.current.style.display="block"):j.current.style.display="none"}),[t]),c.a.createElement("div",{className:"movie-container fade"},c.a.createElement("img",{className:f,src:u,alt:"".concat(t.title,"-poster"),onError:l}),c.a.createElement("p",{className:"movie-title"},t.title),c.a.createElement("div",{ref:j,className:b},c.a.createElement("p",{className:"score-line"},Math.round(10*t.avgScore)/10)))}},69:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(2),r=a.n(n),c=a(3),s=a(12),o=a(0),u=a.n(o),l=a(11),i=a(13),m=a(59),f=a(64);function d(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],d=Object(i.getCaller)(m.b.selectLatestMoviesJson),p=Object(s.a)(d,2),v=p[0],b=p[1];function E(){return(E=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a=Math.floor(5*Math.random()),t&&n(t.slice(a,a+2));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(){E.apply(this,arguments)}(),function(){b.abort()}}),[]),u.a.createElement(o.Fragment,null,u.a.createElement("h3",{className:"center-text"},"Featured Films"),u.a.createElement("div",{className:"double-grid"},a.map((function(e){return u.a.createElement(l.b,{key:"featured-".concat(e.id),to:"/rewer/movie?movieId=".concat(e.id)},u.a.createElement(f.a,{movie:e}))}))))}},72:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return i})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return p}));var n=a(2),r=a.n(n),c=a(3),s=a(13),o={doesExist:"/user/does_exist",selectDetailedUser:"/user/select_detailed_user",uploadAvatar:"/user/upload_avatar",updateUserInfo:"/user/update_user_info",selectFollowers:"/user/select_followers",selectFollowedUsers:"/user/select_followed_users"};function u(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:t},e.next=3,s.POSTAsynch("/user/does_exist",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={userName:t},e.next=3,s.POSTAsynch("/user/select_detailed_user",a);case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.UploadFile("/user/upload_avatar",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.POSTAsynch("/user/update_user_info",t);case 2:if(200!==e.sent.status){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(3),s=a(12),o=a(0),u=a.n(o),l=a(11),i=a(13),m=a(62),f=a(67);t.a=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],d=Object(i.getCaller)(m.i.selectLatestPreviewSeriesJson),p=Object(s.a)(d,2),v=p[0],b=p[1];function E(){return(E=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:(t=e.sent)&&n(t.slice(0,2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(){E.apply(this,arguments)}(),function(){b.abort()}}),[]),u.a.createElement("div",null,u.a.createElement("h3",{className:"center-text"},"Featured Series"),u.a.createElement("div",{className:"double-grid"},a.map((function(e){return u.a.createElement(l.b,{key:"featured-".concat(e.id),to:"/rewer/series?seriesId=".concat(e.id)},u.a.createElement(f.a,{series:e}))}))))}},78:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(2),a(3),a(13);var n={search:"/search",autoComplete:"/auto-complete"}},82:function(e,t,a){"use strict";var n=a(12),r=a(6),c=a(4),s=a(0),o=a.n(s),u=function(e){var t=e.text,a=e.onClick,r=e.selectedValue,c=Object(s.useState)(""),u=Object(n.a)(c,2),l=u[0],i=u[1];return Object(s.useEffect)((function(){i(r===t?"auto-selected":"")}),[r]),o.a.createElement("div",{className:l,onClick:function(){a(t)}},t)};t.a=function(e){var t=e.value,a=e.setValue,l=e.stringList,i=e.onSubmit,m=e.requestAutoComplete,f=Object(s.useState)(!1),d=Object(n.a)(f,2),p=d[0],v=d[1],b=Object(s.useState)(""),E=Object(n.a)(b,2),j=E[0],w=E[1],O=Object(s.useRef)();Object(s.useEffect)((function(){return h(),function(){y()}}),[]),Object(s.useEffect)((function(){p||w("")}),[p]);var h=function(){window.addEventListener("click",g)},y=function(){window.removeEventListener("click",g)},g=function(e){null==O.current||O.current.contains(e.target)||v(!1)},N=function(e){v(!0),w(""),t.length>3&&m(t+String.fromCharCode(e).toLowerCase())},k=function(){if(""===j)w(l[0]);else{var e=l.indexOf(j);0!==e&&w(l[e-1])}},S=function(){if(""===j&&l.length>0)w(l[0]);else{var e=l.indexOf(j);e!==l.length-1&&w(l[e+1])}};return o.a.createElement("div",{ref:O,className:"autocomplete"},o.a.createElement("div",{className:"search-grid"},o.a.createElement("input",{placeholder:"Keres\xe9s",className:"search-input",autoComplete:"off",value:t,onChange:function(e){a(e.target.value)},onKeyDown:function(e){!function(e){"Enter"===e.key&&(p&&""!==j?(i(j),a(j)):i(t),v(!1)),38===e.keyCode&&p&&l.length>0&&k(),40===e.keyCode&&p&&l.length>0&&S(),39===e.keyCode&&p&&l.length>0&&""!==j&&a(j),e.keyCode>=48&&e.keyCode<=57||e.keyCode>=65&&e.keyCode<=90||e.keyCode>=97&&e.keyCode<=122?N(e.keyCode):32!==e.keycode&&8!==e.keycode&&46!==e.keyCode||(v(!0),w(""))}(e)},onClick:function(){v(!0)},type:"text",list:"datalist"}),o.a.createElement("button",{className:"search-btn",onClick:function(){i(t),v(!1)}},o.a.createElement(c.a,{icon:r.l}))),o.a.createElement("div",{className:"autocomplete-items"},p?o.a.createElement(s.Fragment,null,l.map((function(e){return o.a.createElement(u,{key:"auto-".concat(e),text:e,onClick:function(e){a(e),v(!1),i(e)},selectedValue:j})}))):o.a.createElement(s.Fragment,null)))}},84:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(85),o=a(11),u=a(56);t.a=function(e){var t=e.review,a=e.onDelete,l=Object(u.g)("/rewer/uploads/posters","0.jpg",u.a.Small),i=Object(n.a)(l,3),m=i[0],f=i[1],d=i[2];return Object(r.useEffect)((function(){t.seriesId?d("/rewer/uploads/seriesposters","".concat(t.seriesId,".jpg")):d("/rewer/uploads/posters","".concat(t.movieId,".jpg"))}),[t]),c.a.createElement("div",{className:"followed-review-grid"},c.a.createElement("div",{className:"review-poster-container"},null!=t.seriesId?c.a.createElement(r.Fragment,null,c.a.createElement(o.b,{to:"/rewer/series?seriesId=".concat(t.seriesId)},c.a.createElement("img",{src:m,alt:"".concat(t.movieTitle,"-poster"),onError:f,className:"review-poster"}),c.a.createElement("p",null,t.seriesTitle)),c.a.createElement(o.b,{to:"/rewer/movie?movieId=".concat(t.movieId)},c.a.createElement("p",null,t.movieTitle))):c.a.createElement(o.b,{to:"/rewer/movie?movieId=".concat(t.movieId)},c.a.createElement("img",{src:m,alt:"".concat(t.movieTitle,"-poster"),onError:f}),c.a.createElement("p",null,t.movieTitle))),c.a.createElement("div",null,c.a.createElement(s.a,{review:t,onDelete:a})))}},86:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(11),o=a(60),u=a(93),l=a(57),i=(a(76),a(56));t.a=function(e){var t=e.review,a=e.onDelete,m=Object(r.useState)(c.a.createElement("p",null)),f=Object(n.a)(m,2),d=f[0],p=f[1],v=c.a.createElement(r.Fragment,null,c.a.createElement("p",{className:"review-text"},t.text.substring(0,500)),c.a.createElement("p",{onClick:function(){p(c.a.createElement(r.Fragment,null,c.a.createElement("p",{className:"review-text"},t.text),c.a.createElement("p",{onClick:N,className:"show-more"},"Show less")))},className:"show-more"},"Show more")),b=Object(r.useState)("movie-title"),E=Object(n.a)(b,2),j=E[0],w=E[1],O=Object(i.g)("/rewer/uploads/avatars","".concat(t.userName,".jpg"),i.a.Small),h=Object(n.a)(O,2),y=h[0],g=h[1];function N(){p(v)}return Object(r.useEffect)((function(){t.text.length>500?N():p(c.a.createElement("p",{className:"review-text"},t.text)),t.score>6?w("movie-title title-high"):t.score>3?w("movie-title title-medium"):w("movie-title title-low")}),[t]),c.a.createElement("div",{className:"review-container"},c.a.createElement("div",{className:"review-grid"},null!=t.nickName&&""!==t.nickName?c.a.createElement(s.b,{to:"/rewer/user?userName=".concat(t.userName)},c.a.createElement("img",{className:"avatar",src:y,alt:"avatar_".concat(t.nickName),onError:g})):c.a.createElement("p",null),c.a.createElement(s.b,{className:"nick-name",to:"/rewer/user?userName=".concat(t.userName)},t.nickName),c.a.createElement(o.a,{value:t.score})),t.seriesId?c.a.createElement(r.Fragment,null,c.a.createElement(s.b,{className:j,to:"/rewer/series?seriesId=".concat(t.seriesId)},t.seriesTitle,":"),c.a.createElement("br",null),c.a.createElement("br",null)):c.a.createElement(r.Fragment,null),c.a.createElement(s.b,{className:j,to:"/movie?movieId=".concat(t.movieId)},t.movieTitle),d,c.a.createElement(u.a,{reviewLike:t.myLike,onDelete:a,popIndex:t.popIndex,reviewDate:Object(l.d)(t.date)}))}},87:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(2),r=a.n(n),c=a(3),s=a(12),o=a(0),u=a.n(o),l=a(5),i=a(13),m=a(78),f=a(56),d=a(82);function p(){var e=Object(f.d)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],p=Object(o.useState)([]),v=Object(s.a)(p,2),b=v[0],E=v[1],j=Object(i.postCaller)(),w=Object(s.a)(j,2),O=w[0],h=w[1],y=Object(l.f)();Object(o.useEffect)((function(){return function(){h.abort()}}),[]);var g=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O({limit:5,keyword:t},m.a.autoComplete);case 2:(a=e.sent)&&E(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",null,u.a.createElement(d.a,{value:a.current,setValue:function(e){n(e)},onSubmit:function(e){var t;t=e,y.push("/rewer/search?keyword=".concat(t))},requestAutoComplete:function(e){g(e)},stringList:b}))}},90:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(66);t.a=function(e){var t=e.defaultValue,a=e.onUpdate,s=Object(n.useRef)();return r.a.createElement("select",{ref:s,onChange:function(){a(c.a[s.current.value])},value:t},r.a.createElement("option",{value:c.a.popIndex},"Most popular"),r.a.createElement("option",{value:c.a.date},"Latest"))}}}]);
//# sourceMappingURL=11.c52ab000.chunk.js.map