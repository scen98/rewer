(this.webpackJsonprewer=this.webpackJsonprewer||[]).push([[10],{100:function(e,t,a){},101:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(19),r=a(2),c=a.n(r),s=a(3),i=a(12),l=a(0),o=a.n(l),u=a(66),m=a(74),d=a(57),f=a(60),p=(a(76),function(e){var t=e.review,a=e.onEdit,n=e.onDelete;return o.a.createElement(l.Fragment,null,o.a.createElement("div",{className:"review-grid"},o.a.createElement("button",{onClick:function(){a(t)}},"Edit"),o.a.createElement("button",{onClick:function(){n(t)}},"Delete"),o.a.createElement(f.a,{value:t.score})),o.a.createElement("p",null,t.text),o.a.createElement("div",{className:"like-adder"},o.a.createElement("div",null,o.a.createElement("span",null,t.popIndex," ",o.a.createElement("i",null,"likes"))),o.a.createElement("span",{className:"review-date"},Object(d.d)(t.date))))}),v=a(56),E=(a(58),a(6)),b=a(4),g=function(e){var t=e.startValue,a=e.setScore,n=Object(l.useState)(t),r=Object(i.a)(n,2),c=r[0],s=r[1];return Object(l.useEffect)((function(){a(c)}),[c]),o.a.createElement("div",{className:"score-adder-grid"},o.a.createElement("button",{onClick:function(){c>1&&s((function(e){return e-1}))},className:"score-btn minus"},o.a.createElement(b.a,{icon:E.g})),o.a.createElement(f.a,{value:c}),o.a.createElement("button",{onClick:function(){c<10&&s((function(e){return e+1}))},className:"score-btn plus"},o.a.createElement(b.a,{icon:E.j})))},j=function(e){var t=e.review,a=e.onPost,r=Object(v.e)(t),c=Object(i.a)(r,3),s=c[0],u=c[1],m=c[2];return o.a.createElement(l.Fragment,null,o.a.createElement(g,{startValue:t.score,setScore:function(e){u(Object(n.a)(Object(n.a)({},s),{},{score:e}))}}),o.a.createElement("textarea",{className:"review-textarea",name:"text",rows:10,value:s.text,onChange:m}),o.a.createElement("button",{onClick:function(){a(s)}},"Post"))},O=a(13),w=function(e){var t=e.movie,a=Object(l.useState)(o.a.createElement(j,{review:{id:0,text:"",movieId:t.id,date:"",popIndex:0,score:5,userName:localStorage.getItem("userName")},onPost:x})),r=Object(i.a)(a,2),d=r[0],f=r[1],v=Object(l.useState)(""),E=Object(i.a)(v,2),b=E[0],g=E[1],w=Object(O.postCaller)(),h=Object(i.a)(w,2),y=h[0],S=h[1];function N(e){f(o.a.createElement(j,{review:e,onPost:I})),g("Editing your review:")}function I(e){return D.apply(this,arguments)}function D(){return(D=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,u.b.updateReview,O.ECallType.ISOK);case 2:e.sent&&(f(o.a.createElement(p,{review:t,onEdit:N,onDelete:C})),g("Review has been updated."));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t,u.b.insertReview,O.ECallType.INSERT);case 2:(a=e.sent)?(t=Object(n.a)(Object(n.a)({},t),{},{id:a,date:(new Date).toLocaleDateString("hu-HU"),popIndex:1}),f(o.a.createElement(p,{review:t,onEdit:N,onDelete:C})),g("Your review has been posted.")):alert("Server error: could not post your review.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return T.apply(this,arguments)}function T(){return(T=Object(s.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({id:a.id},u.b.deleteReview,O.ECallType.ISOK);case 2:e.sent?(g("Your review has been deleted."),f(o.a.createElement(j,{review:{id:0,text:"",movieId:t.id,date:"",popIndex:0,score:5,userName:localStorage.getItem("userName")},onPost:x}))):alert("Server error: could not delete your review.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({userName:localStorage.getItem("userName"),movieId:t.id,limit:1,offset:0},u.b.selectReviewByUserAndMovie,O.ECallType.SELECT);case 2:(a=e.sent)?f(o.a.createElement(p,{review:a,onEdit:N,onDelete:C})):(g("You haven't posted a review for this movie yet."),f(o.a.createElement(j,{review:{id:0,text:"",movieId:t.id,date:"",popIndex:0,score:5,userName:""},onPost:x})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return null==localStorage.getItem("userName")?f(o.a.createElement(m.a,{message:"post a review"})):t.id>0&&function(){e.apply(this,arguments)}(),function(){S.abort()}}),[t.id]),Object(l.useEffect)((function(){(new Date).getTime()<new Date(t.releaseDate).getTime()&&(f(o.a.createElement("p",null,"This movie has not been released yet.")),g(""))}),[t]),o.a.createElement(l.Fragment,null,o.a.createElement("h3",{className:"center-text"},"My Review"),o.a.createElement("p",null,b),o.a.createElement("div",{className:"review-container"},d))}},103:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(61),s=a(12),i=a(11),l=a(56),o=(a(68),function(e){var t=e.cast,a=Object(l.g)("/rewer/uploads/portraits","".concat(t.artistId,".jpg"),l.a.Small),n=Object(s.a)(a,2),c=n[0],o=n[1];return r.a.createElement("div",{className:"cast-row"},r.a.createElement("img",{src:c,onError:o,alt:t.artistName}),r.a.createElement("span",null,r.a.createElement(i.b,{to:"/rewer/star?artistId=".concat(t.artistId)},t.artistName)),r.a.createElement("p",{className:"cast-row-item"},t.name))});t.a=function(e){var t=e.casts;return r.a.createElement("div",null,t.sort(c.b).map((function(e){return r.a.createElement(o,{key:"cast-".concat(e.id),cast:e})})))}},104:function(e,t,a){"use strict";var n=a(20),r=a(2),c=a.n(r),s=a(3),i=a(12),l=a(0),o=a.n(l),u=a(57),m=a(56),d=a(66),f=a(85),p=function(e){var t=e.reviews,a=e.onDelete;return o.a.createElement("div",null,t.map((function(e){return o.a.createElement(f.a,{key:"review-".concat(e.id),onDelete:a,review:e})})))},v=a(90),E=a(13);t.a=function(e){var t=e.movie,a=Object(m.d)([]),r=Object(i.a)(a,2),f=r[0],b=r[1],g=Object(l.useState)(void 0),j=Object(i.a)(g,2),O=j[0],w=j[1],h=Object(l.useState)(""),y=Object(i.a)(h,2),S=y[0],N=y[1],I=Object(E.postCaller)(),D=Object(i.a)(I,2),x=D[0],k=D[1],C=Object(m.h)(.9,(function(){return M.apply(this,arguments)})),T=Object(i.a)(C,2),_=T[0],F=T[1];function R(){return P.apply(this,arguments)}function P(){return(P=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({movieId:t.id,limit:10,offset:0,orderby:O},d.b.selectReviewsByMovie);case 2:(a=e.sent)?(b(a),N("Reviews"),10===a.length&&_()):N("Server errror: could not download reviewdata.");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(),e.next=3,x({movieId:t.id,limit:10,offset:f.current.length,orderby:O},d.b.selectReviewsByMovie);case 3:(a=e.sent)?(b([].concat(Object(n.a)(f.current),Object(n.a)(a))),10===a.length&&_()):N("Server errror: could not download reviewdata.");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({id:t},d.b.deleteReview,E.ECallType.ISOK);case 2:if(!e.sent){e.next=4;break}b(f.current.filter((function(e){return e.id!==t})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(l.useEffect)((function(){return function(){F(),k.abort()}}),[]),Object(l.useEffect)((function(){return(new Date).getTime()>=new Date(t.releaseDate).getTime()?O===d.a.popIndex?t.id>0&&R():w(d.a.popIndex):N("Reviews will be available on ".concat(Object(u.d)(t.releaseDate.toString()))),function(){F()}}),[t.id,t.releaseDate]),Object(l.useEffect)((function(){return t.id>0&&null!=O&&R(),function(){F()}}),[O]),o.a.createElement("div",null,o.a.createElement("h2",{className:"center-text"},S),(new Date).getTime()>=new Date(t.releaseDate).getTime()?o.a.createElement(l.Fragment,null,o.a.createElement(v.a,{defaultValue:O,onUpdate:function(e){w(e)}}),o.a.createElement(p,{onDelete:function(e){return L.apply(this,arguments)},reviews:f.current})):o.a.createElement(l.Fragment,null))}},116:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var n=a(2),r=a.n(n),c=a(3),s=a(12),i=a(0),l=a.n(i),o=a(13),u=a(62),m=a(103),d=a(11),f=a(56),p=(a(68),function(e){var t=e.cast,a=Object(f.g)("/rewer/uploads/portraits","".concat(t.artistId,".jpg"),f.a.Small),n=Object(s.a)(a,2),r=n[0],c=n[1];return l.a.createElement("div",{className:"cast-row"},l.a.createElement("img",{src:r,onError:c,alt:t.artistName}),l.a.createElement("span",null,l.a.createElement(d.b,{to:"/rewer/star?artistId=".concat(t.artistId)},t.artistName)),l.a.createElement("p",{className:"cast-row-item"},t.name,"(",t.episodeCount,")"))}),v=a(99),E=a(63),b=a(104),g=a(101),j=a(60),O=function(e){var t=e.episode,a=e.selectedId,n=Object(i.useState)("side-row"),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(i.useEffect)((function(){a===t.id?o("side-row selected-row"):o("side-row")}),[a]),l.a.createElement("div",{className:c},l.a.createElement("p",null,t.title),l.a.createElement(j.a,{value:t.avgScore}))},w=(a(100),function(e){var t=e.episodes,a=e.onSelectedChange,n=Object(i.useState)({id:0,title:"",releaseDate:"",casts:[],genres:[],summary:""}),r=Object(s.a)(n,2),c=r[0],o=r[1];return Object(i.useEffect)((function(){a(c)}),[c]),l.a.createElement("div",null,t.map((function(e){return l.a.createElement("div",{key:"episode-select-".concat(e.id),onClick:function(){o(e)}},l.a.createElement(O,{episode:e,selectedId:c.id}))})))}),h=a(73),y=function(e){var t=e.selectedSeason,a=e.setSelectedSeason,n=e.seasons;return l.a.createElement("select",{value:t.id.toString(),onChange:function(e){a(n.find((function(t){return t.id===parseInt(e.target.value)})))}},n.map((function(e){return l.a.createElement("option",{key:e.id,value:e.id.toString()},"Season ",e.order)})))},S=a(94),N=(a(58),a(57)),I=function(e){var t=e.series,a=Object(i.useState)(0),n=Object(s.a)(a,2),r=n[0],c=n[1],o=Object(f.g)("/rewer/uploads/seriesposters","".concat(t.id,".jpg")),m=Object(s.a)(o,2),p=m[0],v=m[1];return Object(i.useEffect)((function(){t.seasons.length>0&&Object(u.d)(t)>0&&c(Object(u.c)(t))}),[t]),l.a.createElement("div",null,(window.screen.width,l.a.createElement(i.Fragment,null,l.a.createElement("div",{className:"title-grid"},l.a.createElement("p",{className:"title"},t.title),l.a.createElement(S.a,{value:Math.round(10*r)/10})),parseInt(localStorage.getItem("permission"))>1?l.a.createElement("div",null,l.a.createElement(d.b,{to:"/rewer/editseries?seriesId=".concat(t.id)},"Edit series' page")):l.a.createElement(i.Fragment,null),t.genres.map((function(e){return l.a.createElement(d.b,{key:"genre-".concat(e.id),className:"genre",to:"todo"},e.genreName)})),l.a.createElement("div",{className:"movie-info-grid"},l.a.createElement("div",{className:"movie-info-grid-item"},l.a.createElement("p",null,t.summary),null!=Object(u.e)(t)?l.a.createElement(i.Fragment,null,l.a.createElement("p",null,"Premier: ",Object(N.d)(Object(u.e)(t))),l.a.createElement("p",null,"Average runtime: ",Math.round(Object(u.b)(t))," minutes")):l.a.createElement(i.Fragment,null),l.a.createElement("p",null,Object(u.f)(t)," seasons"),l.a.createElement("p",null,Object(u.d)(t)," episodes")),l.a.createElement("img",{src:p,onError:v,className:"poster",title:t.title,alt:"".concat(t.title,"-poster")})))))},D=a(21);function x(){var e=Object(i.useState)({id:parseInt(Object(D.b)("seriesId")),title:"",genres:[],seasons:[],summary:"",avgScore:0}),t=Object(s.a)(e,2),a=t[0],n=t[1],d=Object(i.useState)([]),f=Object(s.a)(d,2),j=f[0],O=f[1],S=Object(i.useState)({id:0,seriesId:parseInt(Object(D.b)("seriesId")),episodes:[]}),N=Object(s.a)(S,2),x=N[0],k=N[1],C=Object(i.useState)({id:0,title:"",releaseDate:"",summary:"",genres:[],casts:[]}),T=Object(s.a)(C,2),_=T[0],F=T[1],R=Object(o.postCaller)({id:a.id},u.i.selectDetailedSeries),P=Object(s.a)(R,2),M=P[0],L=P[1];return Object(i.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:(t=e.sent)?(Object(u.h)(t),n(t),O(Object(u.g)(t)),t.seasons.length>0&&k(t.seasons[0])):window.location.href="/404.html";case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return document.body.scrollTop=0,document.documentElement.scrollTop=0,a.id>0&&function(){e.apply(this,arguments)}(),function(){L.abort()}}),[]),Object(i.useEffect)((function(){a&&(document.title="".concat(a.title," - Rewer"))}),[a]),l.a.createElement(i.Fragment,null,window.innerWidth>800?l.a.createElement("div",{className:"main-grid"},l.a.createElement("div",{className:"left-item"},l.a.createElement("div",{className:"side-container medium-side"},l.a.createElement(y,{selectedSeason:x,seasons:a.seasons,setSelectedSeason:k}),l.a.createElement(w,{episodes:x.episodes,onSelectedChange:function(e){F(e)}})),l.a.createElement("div",{className:"side-container medium-side"},l.a.createElement(g.a,{key:"my_review_".concat(_.id),movie:_})),_.casts.length>0?l.a.createElement("div",{className:"side-container medium-side"},l.a.createElement("h3",{className:"center-text"},"Cast"),l.a.createElement(m.a,{casts:_.casts.filter((function(e){return 4===e.castTypeId||5===e.castTypeId}))})):l.a.createElement(i.Fragment,null)),l.a.createElement("div",{className:"main-item"},l.a.createElement("div",{className:"bottom-border"},l.a.createElement(I,{series:a})),_.id>0?l.a.createElement(i.Fragment,null,l.a.createElement(v.a,{movie:_}),l.a.createElement(b.a,{movie:_})):l.a.createElement("p",null,l.a.createElement("i",null,"No episode is selected."))),l.a.createElement("div",{className:"right-item"},l.a.createElement("div",{className:"side-container medium-side"},l.a.createElement("h3",{className:"center-text"},"Cast"),j.filter((function(e){return e.castTypeId>3})).map((function(e){return l.a.createElement(p,{key:"".concat(e.artistId,"-").concat(e.castTypeId),cast:e})}))),l.a.createElement("div",{className:"side-container large-side"},l.a.createElement(h.a,null)))):l.a.createElement("div",{className:"main-container"},l.a.createElement(I,{series:a}),l.a.createElement("h3",null,"Cast"),j.filter((function(e){return e.castTypeId>3})).map((function(e){return l.a.createElement(p,{key:"".concat(e.artistId,"-").concat(e.castTypeId),cast:e})})),l.a.createElement(y,{selectedSeason:x,seasons:a.seasons,setSelectedSeason:k}),x.episodes.map((function(e){return l.a.createElement(E.a,{key:"episode-".concat(e.id),movie:e})}))))}},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n={getCastTypes:"/jsondb/cast_types.json",insertCast:"/cast/insert_cast",insertCasts:"/cast/insert_casts",updateCast:"/cast/update_cast",deleteCast:"/cast/delete_cast"};function r(e,t){return e.castTypeId<t.castTypeId?-1:e.castTypeId>t.castTypeId?1:0}},62:function(e,t,a){"use strict";a.d(t,"i",(function(){return m})),a.d(t,"j",(function(){return d})),a.d(t,"h",(function(){return p})),a.d(t,"f",(function(){return v})),a.d(t,"d",(function(){return E})),a.d(t,"e",(function(){return b})),a.d(t,"b",(function(){return g})),a.d(t,"g",(function(){return j})),a.d(t,"c",(function(){return O})),a.d(t,"a",(function(){return N}));var n=a(2),r=a.n(n),c=a(19),s=a(27),i=a(3),l=a(13),o=a(61),u=a(59),m={insertSeries:"/series/insert_series",updateSeries:"/series/update_series",uploadSeriesPoster:"/series/upload_series_poster",selectDetailedSeries:"/series/select_detailed_series",selectLatestPreviewSeries:"/series/select_latest_preview_series",selectLatestPreviewSeriesJson:"/jsondb/latest_series.json",insertSeriesGenre:"/genre/insert_series_genre",deleteSeriesGenre:"/genre/delete_series_genre"};function d(e){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.UploadFile)("/series/upload_series_poster",t);case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){e.genres.sort(u.a),function(e){var t,a=Object(s.a)(e.seasons);try{for(a.s();!(t=a.n()).done;){S(t.value)}}catch(n){a.e(n)}finally{a.f()}}(e);var t,a=Object(s.a)(e.seasons);try{for(a.s();!(t=a.n()).done;){t.value.episodes.sort(N)}}catch(n){a.e(n)}finally{a.f()}}function v(e){return e.seasons.filter((function(e){return e.episodes.length>0})).length}function E(e){var t=0;return e.seasons.forEach((function(e){t+=e.episodes.length})),t}function b(e){return e.seasons.length>0&&e.seasons[0].episodes.length>0?e.seasons[0].episodes[0].releaseDate:null}function g(e){var t,a=E(e),n=0,r=Object(s.a)(e.seasons);try{for(r.s();!(t=r.n()).done;){var c,i=t.value,l=Object(s.a)(i.episodes);try{for(l.s();!(c=l.n()).done;){var o=c.value;o.runtime>0&&(n+=o.runtime)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n/a}function j(e){var t,a=[],n=Object(s.a)(e.seasons);try{for(n.s();!(t=n.n()).done;){w(t.value,a)}}catch(r){n.e(r)}finally{n.f()}return a}function O(e){var t,a=0,n=0,r=Object(s.a)(e.seasons);try{for(r.s();!(t=r.n()).done;){var c,i=t.value,l=Object(s.a)(i.episodes);try{for(l.s();!(c=l.n()).done;){var o=c.value;o.avgScore>0&&(n+=o.avgScore,a++)}}catch(u){l.e(u)}finally{l.f()}}}catch(u){r.e(u)}finally{r.f()}return n/a}function w(e,t){var a,n=Object(s.a)(e.episodes);try{for(n.s();!(a=n.n()).done;){h(a.value,t)}}catch(r){n.e(r)}finally{n.f()}}function h(e,t){var a,n=Object(s.a)(e.casts);try{for(n.s();!(a=n.n()).done;){y(a.value,t)}}catch(r){n.e(r)}finally{n.f()}}function y(e,t){var a=t.find((function(t){return t.artistId===e.artistId}));null!=a?function(e,t){var a=t.characterNames;0===t.characterNames.filter((function(t){return t===e.name})).length&&a.push(e.name);t=Object(c.a)(Object(c.a)({},t),{},{episodeCount:t.episodeCount++,characterNames:a})}(e,a):t.push({artistId:e.artistId,artistName:e.artistName,episodeCount:1,characterNames:[e.name],castTypeId:e.castTypeId})}function S(e){var t,a=Object(s.a)(e.episodes);try{for(a.s();!(t=a.n()).done;){t.value.casts.sort(o.b)}}catch(n){a.e(n)}finally{a.f()}}function N(e,t){if(new Date(e.releaseDate)>new Date(t.releaseDate))return 1;if(new Date(e.releaseDate)<new Date(t.releaseDate))return-1;if(e.releaseDate===t.releaseDate){if(e.id>t.id)return 1;if(e.id<t.id)return-1}return 0}},63:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(12),r=a(0),c=a.n(r),s=a(11),i=a(60),l=a(57),o=a(56),u=(a(58),function(e){var t=e.movie,a=e.cutPos,u=void 0===a?70:a,m=Object(o.g)("/rewer/uploads/posters","".concat(t.id,".jpg"),o.a.Small),d=Object(n.a)(m,2),f=d[0],p=d[1],v=Object(r.useState)(""),E=Object(n.a)(v,2),b=E[0],g=E[1],j=Object(o.f)(t.summary,u),O=Object(n.a)(j,1)[0];return Object(r.useEffect)((function(){t.avgScore>6?g("high-poster"):t.avgScore>3?g("medium-poster"):t.avgScore>0?g("low-poster"):g(""),window.screen.width}),[t]),c.a.createElement(s.b,{className:"movie-row-grid",to:"/rewer/movie?movieId=".concat(t.id)},c.a.createElement("img",{className:b,src:f,alt:"poster-".concat(t.id),title:t.title,onError:p}),c.a.createElement("div",null,c.a.createElement("p",{className:"row-title"},t.title),c.a.createElement("p",{className:"summary"},O)),new Date(t.releaseDate)<=new Date?c.a.createElement(i.a,{value:t.avgScore})?null==t.releaseDate:c.a.createElement("p",null):c.a.createElement("p",{className:"movie-row-date"},Object(l.d)(t.releaseDate.toString())))})},67:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(56);a(58);t.a=function(e){var t=e.series,a=Object(s.g)("/rewer/uploads/seriesposters","".concat(t.id,".jpg")),i=Object(n.a)(a,2),l=i[0],o=i[1],u=Object(r.useState)(""),m=Object(n.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)(""),v=Object(n.a)(p,2),E=v[0],b=v[1],g=Object(r.useRef)();return Object(r.useEffect)((function(){t.avgScore>6?(f("high-poster"),b("high"),g.current.style.display="block"):t.avgScore>3?(f("medium-poster"),b("medium"),g.current.style.display="block"):t.avgScore>0?(f("low-poster"),b("low"),g.current.style.display="block"):g.current.style.display="none"}),[t]),c.a.createElement("div",{className:"movie-container fade"},c.a.createElement("img",{className:d,src:l,alt:"".concat(t.title,"-poster"),onError:o}),c.a.createElement("p",{className:"movie-title"},t.title),c.a.createElement("div",{ref:g,className:E},c.a.createElement("p",{className:"score-line"},Math.round(10*t.avgScore)/10)))}},68:function(e,t,a){},73:function(e,t,a){"use strict";var n=a(2),r=a.n(n),c=a(3),s=a(12),i=a(0),l=a.n(i),o=a(11),u=a(13),m=a(62),d=a(67);t.a=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],f=Object(u.getCaller)(m.i.selectLatestPreviewSeriesJson),p=Object(s.a)(f,2),v=p[0],E=p[1];function b(){return(b=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:(t=e.sent)&&n(t.slice(0,2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return function(){b.apply(this,arguments)}(),function(){E.abort()}}),[]),l.a.createElement("div",null,l.a.createElement("h3",{className:"center-text"},"Featured Series"),l.a.createElement("div",{className:"double-grid"},a.map((function(e){return l.a.createElement(o.b,{key:"featured-".concat(e.id),to:"/rewer/series?seriesId=".concat(e.id)},l.a.createElement(d.a,{series:e}))}))))}},74:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(11);t.a=function(e){var t=e.message;return r.a.createElement("p",null,"You must be ",r.a.createElement(c.b,{to:"/rewer/profile"},"logged in")," ",t)}},90:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(66);t.a=function(e){var t=e.defaultValue,a=e.onUpdate,s=Object(n.useRef)();return r.a.createElement("select",{ref:s,onChange:function(){a(c.a[s.current.value])},value:t},r.a.createElement("option",{value:c.a.popIndex},"Most popular"),r.a.createElement("option",{value:c.a.date},"Latest"))}},94:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r);t.a=function(e){var t=e.value,a=Object(r.useState)("score"),s=Object(n.a)(a,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){l(t>6?"main-score high":t>3?"main-score":t>0?"main-score low":"main-score unset")}),[t]),c.a.createElement("div",{className:i},c.a.createElement("p",null,Math.round(10*t)/10===0?c.a.createElement(r.Fragment,null,"X"):c.a.createElement(r.Fragment,null,Math.round(10*t)/10)))}},99:function(e,t,a){"use strict";var n=a(12),r=a(0),c=a.n(r),s=a(11),i=a(57),l=a(56),o=a(94);a(58);t.a=function(e){var t=e.movie,a=Object(l.g)("/rewer/uploads/posters","".concat(t.id,".jpg"),l.a.Normal),u=Object(n.a)(a,2),m=u[0],d=u[1];return c.a.createElement("div",null,c.a.createElement("div",{className:"title-grid"},c.a.createElement("p",{className:"title"},t.title),c.a.createElement(o.a,{value:t.avgScore})),c.a.createElement("div",null,parseInt(localStorage.getItem("permission"))>1?c.a.createElement(s.b,{to:"/rewer/editmovie?movieId=".concat(t.id)},"Edit this movie's page"):c.a.createElement(r.Fragment,null)),null!=t.genres?t.genres.map((function(e){return c.a.createElement(s.b,{key:"genre-".concat(e.id),className:"genre",to:"todo"},e.genreName)})):c.a.createElement(r.Fragment,null),c.a.createElement("div",{className:"movie-info-grid"},c.a.createElement("div",{className:"movie-info-grid-item"},c.a.createElement("p",null,t.summary),c.a.createElement("p",null,"Premier: ","".concat(Object(i.a)(t.releaseDate.toString())," ").concat(Object(i.b)(t.releaseDate.toString()),"  ").concat(Object(i.c)(t.releaseDate.toString()))),c.a.createElement("p",null,"Runtime: ","".concat(t.runtime," minutes")),c.a.createElement("p",null,"Directed by: "),c.a.createElement("ul",null,t.casts.filter((function(e){return 1===e.castTypeId})).map((function(e){return c.a.createElement("li",{key:"director-link-".concat(e.artistId)},c.a.createElement(s.b,{className:"star",to:"/rewer/star?artistId=".concat(e.artistId),title:e.name},e.artistName))}))),c.a.createElement("p",null,"Written by: "),c.a.createElement("ul",null,t.casts.filter((function(e){return 3===e.castTypeId})).map((function(e){return c.a.createElement("li",{key:"director-link-".concat(e.artistId)},c.a.createElement(s.b,{className:"star",to:"/rewer/star?artistId=".concat(e.artistId),title:e.name},e.artistName),c.a.createElement("br",null))})))),window.screen.width>800?c.a.createElement("img",{src:m,onError:d,className:"poster",title:t.title,alt:"".concat(t.title,"-poster")}):c.a.createElement(r.Fragment,null)))}}}]);
//# sourceMappingURL=10.8896ceb2.chunk.js.map